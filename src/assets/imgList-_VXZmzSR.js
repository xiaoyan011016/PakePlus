import{d as E,s as S,r as D,c as i,a as o,e as d,w,F as V,D as b,Q as x,n as I,f as l,x as L,W as K}from"./index-BGwiQ_ZP.js";import{u as T,f as k,c as n,a as m,b as u,d as R}from"./dataview-q4Jj-tHZ.js";import{u as W}from"./dataviewLayout-BV-xrtOb.js";import{l as A}from"./lodash-buJ1Dk2D.js";import{E as f}from"./dataviewTypes-DjJw5iW5.js";import{I as B}from"./index-BwLVAfvf.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./project-BHkV2mwb.js";import"./index-CV9vVqBq.js";import"./index-D6J3dazT.js";import"./image-404-CYQSRSGu.js";import"./config-C6dLhLlW.js";import"./index-BJkTEgjb.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./compact-item-CDNQQAbH.js";import"./_getTag-BRywsnft.js";import"./omit-HeMvMqzr.js";import"./vnode-BaoCyZaz.js";import"./index-_DVN_kvK.js";import"./useState-DblkWJ1i.js";import"./devWarning-MTSIIkhh.js";import"./isPlainObject-DJIrIqvg.js";import"./index-Dn-jGRft.js";import"./ResizeObserver.es-B1PUzC5B.js";const O={class:"search"},U={class:"img-list"},F=["onDblclick","onDragstart"],H={class:"title"},$={class:"img-show"},z=["src"],G=E({__name:"imgList",props:{chartConfig:{},totalWidth:{default:330},selfWidth:{default:200}},setup(J){const e=T(),h=W(),{dataviewLayoutState:M}=S(h),c=D({searchVal:""}),_=a=>k(a),g=async a=>{n(a.chartKey,m(a)),n(a.conKey,u(a));const t=await R(a);t.redirectComponent,e.addComponnetList(t,!1,!0),e.setTargetSelectChart(t.id)},C=(a,t)=>{var r;t.disabled||(n(t.chartKey,m(t)),n(t.conKey,u(t)),(r=a.dataTransfer)==null||r.setData(K.DRAG_KEY,JSON.stringify(A.omit(t,["image"]))),e.setEditCanvas(f.IS_CREATE,!0))},v=a=>{e.setEditCanvas(f.IS_CREATE,!1)};return(a,t)=>{const r=I("SearchOutlined"),y=B;return l(),i("div",{class:"img-list-container",style:x({width:`${a.selfWidth}px`})},[o("header",O,[d(y,{value:c.searchVal,"onUpdate:value":t[0]||(t[0]=s=>c.searchVal=s),placeholder:"搜索组件"},{suffix:w(()=>[d(r)]),_:1},8,["value"])]),o("div",U,[(l(!0),i(V,null,b(a.chartConfig,s=>(l(),i("div",{class:"item-box",onDblclick:p=>g(s),draggable:"",onDragstart:p=>C(p,s),onDragend:v},[o("header",null,[t[1]||(t[1]=o("div",{class:"spin"},[o("span"),o("span"),o("span")],-1)),o("span",H,L(s.title),1)]),o("div",$,[o("div",null,[o("img",{src:_(s),alt:""},null,8,z)])])],40,F))),256))])],4)}}}),Ct=N(G,[["__scopeId","data-v-892e9693"]]);export{Ct as default};
