import{C as A}from"./index-Dmp49pi4.js";import{C as R}from"./index-DXr50enF.js";import{_ as N}from"./edit-record-history-b6VxML3W.js";import{b as Q,c as $}from"./sysTenant-CUNJZJDU.js";import{u as E}from"./useGetDictList-Ce8qcgxG.js";import{_ as M}from"./editTenant.vue_vue_type_script_setup_true_lang-CUuF2t8J.js";import{d as V,i as G,r as c,o as H,c as y,e as p,w as e,n as L,f as a,g as i,h as u,F as k,p as o,D as j,q as b,x as I,E as v,cs as J,ct as K,I as W}from"./index-BGwiQ_ZP.js";import{C as X}from"./index-O9UFCIBE.js";import{I as Y}from"./index-BwLVAfvf.js";import{A as Z}from"./index-COjFYpq0.js";import{T as tt}from"./index-BZPc_wGj.js";import{B as et}from"./index-_DVN_kvK.js";import{_ as at}from"./index-C3-0t2lO.js";import{_ as nt}from"./index-Z14lAvnM.js";import{_ as it}from"./index-Dc3BwS3p.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./file-B2ejoaTr.js";import"./index-C0T18UR7.js";import"./Dropdown-C4JaQ-9X.js";import"./index-DzzgRnZQ.js";import"./_getTag-BRywsnft.js";import"./zoom-CXqzwkKe.js";import"./vnode-BaoCyZaz.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./move-wLULaQ1Q.js";import"./slide-NWV3xR2G.js";import"./index-Dn-jGRft.js";import"./devWarning-MTSIIkhh.js";import"./omit-HeMvMqzr.js";import"./index-BjablQaC.js";import"./collapseMotion-D2RrGThV.js";import"./KeyCode-CYuXKwrG.js";import"./index-ENtatNUe.js";import"./index-CT-EkvtY.js";import"./Checkbox-BZ1yw4ia.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./compact-item-CDNQQAbH.js";import"./index-BRrv4Ip6.js";import"./index-Bp3RETpT.js";import"./styleChecker-DfAMPleG.js";import"./eagerComputed-DIhAf9GU.js";import"./useState-DblkWJ1i.js";import"./pickAttrs-DQvtcfDv.js";import"./index-CEnhULtM.js";import"./index-Bh7qAkTT.js";import"./index-CKmLu0Sy.js";import"./index-CGXbiuUf.js";import"./createRef-CUnV3TOs.js";import"./isMobile-BbN7I0i_.js";import"./List-163jSJPW.js";import"./useMemo-BMsKZuSN.js";import"./useMergedState-DA2nm7bB.js";import"./useBreakpoint-CpQcD87b.js";import"./responsiveObserve-ChmocN4c.js";import"./index-DQufTizB.js";import"./index-BUzwvh4O.js";import"./debounce-BUZtn0sP.js";import"./hasIn-B69yjgv2.js";import"./index-4yq-Tlp0.js";import"./Col-DruUELZH.js";import"./index-Dpm5AXGB.js";import"./ActionButton-4KVVUbhX.js";import"./index-DkgGzfF8.js";import"./index-CrTOvIq5.js";import"./isPlainObject-DJIrIqvg.js";const lt={class:"sys-tenant-container flex flex-col"},st={key:5,style:{cursor:"pointer"}},dt={key:6,class:"w-full"},rt=V({name:"sysTenant",__name:"index",setup(pt){const g=G(),s=c({queryForm:{name:"",phone:""},tableData:[],tableParams:{page:1,pageSize:50,total:0},loading:!1}),C=[{title:"序号",align:"center",width:60,customRender:({index:d})=>`${d+1}`,fixed:"left"},{title:"图标",dataIndex:"logo",key:"logo",align:"center",width:100,ellipsis:!0},{title:"名称",dataIndex:"name",key:"name",align:"center",width:120},{title:"标题",dataIndex:"title",key:"title",align:"center",width:120},{title:"副标题",dataIndex:"viceTitle",key:"viceTitle",align:"center",width:120},{title:"描述",dataIndex:"viceDesc",key:"viceDesc",align:"center",width:250,ellipsis:!0},{title:"水印",dataIndex:"watermark",key:"watermark",align:"center",width:120},{title:"版权信息",dataIndex:"copyright",key:"copyright",align:"center",width:150,ellipsis:!0},{title:"备案号",dataIndex:"icp",key:"icp",align:"center",width:120,ellipsis:!0},{title:"icp地址",dataIndex:"icpUrl",key:"icpUrl",align:"center",width:120,ellipsis:!0},{title:"启用注册",dataIndex:"enableReg",key:"enableReg",align:"center",width:120},{title:"租管账号",dataIndex:"adminAccount",key:"adminAccount",align:"center",width:120},{title:"电话",dataIndex:"phone",key:"phone",align:"center",width:120},{title:"电话",dataIndex:"phone",key:"phone",align:"center",width:120},{title:"域名",dataIndex:"host",key:"host",align:"center",width:150},{title:"域名",dataIndex:"host",key:"host",align:"center",width:150},{title:"租户类型",dataIndex:"tenantType",key:"tenantType",align:"center",width:150},{title:"数据库类型",dataIndex:"dbType",key:"dbType",align:"center",width:150},{title:"数据库连接",dataIndex:"connection",key:"connection",align:"center",width:250,ellipsis:!0},{title:"从库连接",dataIndex:"slaveConnections",key:"slaveConnections",align:"center",width:150},{title:"状态",dataIndex:"status",key:"status",align:"center",width:120},{title:"排序",dataIndex:"orderNo",key:"orderNo",align:"center",width:100},{title:"修改记录",dataIndex:"history",key:"history",align:"center",width:120}],D=d=>"http://192.168.118.46:75/"+d,f=async()=>{s.loading=!0;const d=Object.assign(s.queryForm,s.tableParams);let t=await Q(d);s.tableData=t.data.result.items??[],s.tableParams.total=t.data.result.total??0,s.loading=!1},S=()=>{var d;(d=g.value)==null||d.handleOpen({tenantType:0,orderNo:100})},O=()=>{},P=d=>{var t;(t=g.value)==null||t.handleOpen(d)},q=async d=>{await $({id:d.id}),W("删除成功","success"),await f()},B=async d=>{s.tableParams.page=d.current,s.tableParams.pageSize=d.pageSize,await f()};return H(()=>{f()}),(d,t)=>{const T=Y,_=at,x=X,F=L("UserOutlined"),h=Z,l=tt,U=nt,w=et,z=it;return a(),y("div",lt,[p(x,{class:"mb-2.5"},{default:e(()=>[p(A,{model:s.queryForm,name:"menu-form",onQuery:f,onAdd:S,onReset:O,btnShow:{add:!1}},{default:e(()=>[p(_,{label:"租户名称",name:"name",class:"w-1/2.5"},{default:e(()=>[p(T,{value:s.queryForm.name,"onUpdate:value":t[0]||(t[0]=r=>s.queryForm.name=r)},null,8,["value"])]),_:1}),p(_,{label:"联系电话",name:"phone",class:"w-1/2.5"},{default:e(()=>[p(T,{value:s.queryForm.phone,"onUpdate:value":t[1]||(t[1]=r=>s.queryForm.phone=r)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),p(x,{class:"flex-1 card-table"},{default:e(()=>[p(R,{columns:C,data:s.tableData,pagination:{total:s.tableParams.total,current:s.tableParams.page,pageSize:s.tableParams.pageSize,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["2","5","10","20"],showTotal:r=>`总数: ${r}`},loading:s.loading,onChange:B},{bodyCell:e(({column:r,text:mt,record:n})=>[r.dataIndex==="logo"?(a(),i(h,{key:0,src:D(n.logo),shape:"square",size:"small"},{icon:e(()=>[p(F)]),_:2},1032,["src"])):u("",!0),r.dataIndex==="enableReg"?(a(),y(k,{key:1},[r.dataIndex==1?(a(),i(l,{key:0,color:"green"},{default:e(()=>t[2]||(t[2]=[o("启用")])),_:1})):(a(),i(l,{key:1,color:"orange"},{default:e(()=>t[3]||(t[3]=[o("禁用")])),_:1}))],64)):u("",!0),r.dataIndex==="tenantType"?(a(!0),y(k,{key:2},j(b(E)("TenantTypeEnum"),m=>(a(),y(k,{key:m},[m.value=="0"&&n.tenantType==0?(a(),i(l,{key:0,color:"green"},{default:e(()=>[o(I(m.label),1)]),_:2},1024)):m.value=="1"&&n.tenantType==1?(a(),i(l,{key:1,color:"orange"},{default:e(()=>[o(I(m.label),1)]),_:2},1024)):u("",!0)],64))),128)):u("",!0),r.dataIndex==="dbType"?(a(),y(k,{key:3},[n.dbType===0?(a(),i(l,{key:0},{default:e(()=>t[4]||(t[4]=[o("MySql")])),_:1})):n.dbType===1?(a(),i(l,{key:1},{default:e(()=>t[5]||(t[5]=[o("SqlServer")])),_:1})):n.dbType===2?(a(),i(l,{key:2},{default:e(()=>t[6]||(t[6]=[o("Sqlite")])),_:1})):n.dbType===3?(a(),i(l,{key:3},{default:e(()=>t[7]||(t[7]=[o("Oracle")])),_:1})):n.dbType===4?(a(),i(l,{key:4},{default:e(()=>t[8]||(t[8]=[o("PostgreSQL")])),_:1})):n.dbType===5?(a(),i(l,{key:5},{default:e(()=>t[9]||(t[9]=[o("Dm")])),_:1})):n.dbType===6?(a(),i(l,{key:6},{default:e(()=>t[10]||(t[10]=[o("Kdbndp")])),_:1})):n.dbType===7?(a(),i(l,{key:7},{default:e(()=>t[11]||(t[11]=[o("Oscar")])),_:1})):n.dbType===8?(a(),i(l,{key:8},{default:e(()=>t[12]||(t[12]=[o("MySqlConnector")])),_:1})):n.dbType===9?(a(),i(l,{key:9},{default:e(()=>t[13]||(t[13]=[o("Access")])),_:1})):n.dbType===10?(a(),i(l,{key:10},{default:e(()=>t[14]||(t[14]=[o("OpenGauss")])),_:1})):n.dbType===11?(a(),i(l,{key:11},{default:e(()=>t[15]||(t[15]=[o("QuestDB")])),_:1})):n.dbType===12?(a(),i(l,{key:12},{default:e(()=>t[16]||(t[16]=[o("HG")])),_:1})):n.dbType===13?(a(),i(l,{key:13},{default:e(()=>t[17]||(t[17]=[o("ClickHouse")])),_:1})):n.dbType===14?(a(),i(l,{key:14},{default:e(()=>t[18]||(t[18]=[o("GBase")])),_:1})):n.dbType===15?(a(),i(l,{key:15},{default:e(()=>t[19]||(t[19]=[o("Odbc")])),_:1})):n.dbType===16?(a(),i(l,{key:16},{default:e(()=>t[20]||(t[20]=[o("OceanBaseForOracle")])),_:1})):n.dbType===17?(a(),i(l,{key:17},{default:e(()=>t[21]||(t[21]=[o("TDengine")])),_:1})):n.dbType===18?(a(),i(l,{key:18},{default:e(()=>t[22]||(t[22]=[o("GaussDB")])),_:1})):n.dbType===19?(a(),i(l,{key:19},{default:e(()=>t[23]||(t[23]=[o("OceanBase")])),_:1})):n.dbType===20?(a(),i(l,{key:20},{default:e(()=>t[24]||(t[24]=[o("Tidb")])),_:1})):n.dbType===21?(a(),i(l,{key:21},{default:e(()=>t[25]||(t[25]=[o("Vastbase")])),_:1})):n.dbType===22?(a(),i(l,{key:22},{default:e(()=>t[26]||(t[26]=[o("PolarDB")])),_:1})):n.dbType===23?(a(),i(l,{key:23},{default:e(()=>t[27]||(t[27]=[o("Doris")])),_:1})):n.dbType===900?(a(),i(l,{key:24},{default:e(()=>t[28]||(t[28]=[o("Custom")])),_:1})):u("",!0)],64)):u("",!0),r.dataIndex==="status"?(a(),i(U,{key:4,checked:n.status,"onUpdate:checked":m=>n.status=m,checkedValue:1},null,8,["checked","onUpdate:checked"])):u("",!0),r.dataIndex==="history"?(a(),y("div",st,[p(N,{row:n},null,8,["row"])])):u("",!0),r.dataIndex==="operation"?(a(),y("div",dt,[p(w,{icon:v(b(J)),ghost:"",type:"primary",class:"mr-1",onClick:m=>P(n)},{default:e(()=>t[29]||(t[29]=[o("编辑")])),_:2},1032,["icon","onClick"]),p(z,{title:"确定删除?",onConfirm:m=>q(n)},{default:e(()=>[p(w,{icon:v(b(K)),danger:""},{default:e(()=>t[30]||(t[30]=[o("删除")])),_:1},8,["icon"])]),_:2},1032,["onConfirm"])])):u("",!0)]),_:1},8,["data","pagination","loading"])]),_:1}),p(M,{ref_key:"editTenantRef",ref:g,onHandleQuery:f},null,512)])}}}),Ce=ot(rt,[["__scopeId","data-v-c0008a72"]]);export{Ce as default};
