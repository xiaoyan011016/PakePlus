import{d as V,aW as he,aF as N,aV as ye,aG as J,bk as H,e as l,av as L,bY as Ce,aw as Se,ax as Re,an as D,ay as we,b4 as $e,b6 as ue,a_ as xe,ao as Oe,aR as Le,j as E,i as F,a1 as Q,as as Te,aE as ke,F as re,aH as se,Z as de,s as X,r as ne,n as A,g as j,f as k,w as _,a as C,aB as Be,d2 as Ae,p as $,q as O,a5 as Ie,l as pe,m as me,d3 as ze,k as De,o as fe,a3 as ie,d4 as le,c as Z,D as ge,S as Ve,h as Pe,x as ee,v as _e,C as Ee,ae as je,u as Me,d5 as Ne,ac as Fe,t as Ue,A as He,B as Xe}from"./index-BGwiQ_ZP.js";import{u as We}from"./globalConfig-IrHncaJH.js";import{l as Ge}from"./lodash-buJ1Dk2D.js";import{_ as qe,o as Ke}from"./index-CRCMLEr3.js";import{a as Ye,_ as Ze}from"./index-DQufTizB.js";import{_ as Je}from"./index-Z14lAvnM.js";import{u as Qe}from"./Col-DruUELZH.js";import{a as et,C as te}from"./compact-item-CDNQQAbH.js";import{B as tt}from"./index-_DVN_kvK.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{D as ve}from"./index-C0T18UR7.js";import{M as be,a as ot}from"./index-BjablQaC.js";import"./sysTenant-CUNJZJDU.js";import"./index-O9UFCIBE.js";import"./index-DkgGzfF8.js";import"./_getTag-BRywsnft.js";import"./KeyCode-CYuXKwrG.js";import"./Dropdown-C4JaQ-9X.js";import"./index-DzzgRnZQ.js";import"./zoom-CXqzwkKe.js";import"./vnode-BaoCyZaz.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./useState-DblkWJ1i.js";import"./index-Dn-jGRft.js";import"./hasIn-B69yjgv2.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-DA2nm7bB.js";import"./devWarning-MTSIIkhh.js";import"./omit-HeMvMqzr.js";import"./slide-NWV3xR2G.js";import"./isPlainObject-DJIrIqvg.js";import"./index-C3-0t2lO.js";import"./collapseMotion-D2RrGThV.js";import"./debounce-BUZtn0sP.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./index-CKmLu0Sy.js";import"./index-CGXbiuUf.js";import"./pickAttrs-DQvtcfDv.js";import"./createRef-CUnV3TOs.js";import"./move-wLULaQ1Q.js";import"./List-163jSJPW.js";import"./useMemo-BMsKZuSN.js";import"./index-BwLVAfvf.js";import"./index-Bp3RETpT.js";import"./styleChecker-DfAMPleG.js";import"./eagerComputed-DIhAf9GU.js";import"./index-CEnhULtM.js";import"./index-Bh7qAkTT.js";import"./useBreakpoint-CpQcD87b.js";import"./responsiveObserve-ChmocN4c.js";import"./index-BRrv4Ip6.js";import"./index-CT-EkvtY.js";import"./Checkbox-BZ1yw4ia.js";import"./index-BUzwvh4O.js";import"./index-Dc3BwS3p.js";import"./index-ENtatNUe.js";import"./ActionButton-4KVVUbhX.js";var rt=function(e,u){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&u.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)u.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(i[o[s]]=e[o[s]]);return i};const nt=()=>({prefixCls:String,href:String,separator:N.any,dropdownProps:ye(),overlay:N.any,onClick:he()}),G=V({compatConfig:{MODE:3},name:"ABreadcrumbItem",inheritAttrs:!1,__ANT_BREADCRUMB_ITEM:!0,props:nt(),slots:Object,setup(e,u){let{slots:i,attrs:o,emit:s}=u;const{prefixCls:f}=J("breadcrumb",e),c=(v,S)=>{const t=H(i,e,"overlay");return t?l(ve,L(L({},e.dropdownProps),{},{overlay:t,placement:"bottom"}),{default:()=>[l("span",{class:`${S}-overlay-link`},[v,l(Ce,null,null)])]}):v},x=v=>{s("click",v)};return()=>{var v;const S=(v=H(i,e,"separator"))!==null&&v!==void 0?v:"/",t=H(i,e),{class:d,style:p}=o,m=rt(o,["class","style"]);let b;return e.href!==void 0?b=l("a",L({class:`${f.value}-link`,onClick:x},m),[t]):b=l("span",L({class:`${f.value}-link`,onClick:x},m),[t]),b=c(b,f.value),t!=null?l("li",{class:d,style:p},[b,S&&l("span",{class:`${f.value}-separator`},[S])]):null}}}),at=e=>{const{componentCls:u,iconCls:i}=e;return{[u]:D(D({},we(e)),{color:e.breadcrumbBaseColor,fontSize:e.breadcrumbFontSize,[i]:{fontSize:e.breadcrumbIconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:D({color:e.breadcrumbLinkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${e.paddingXXS}px`,borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",marginInline:-e.marginXXS,"&:hover":{color:e.breadcrumbLinkColorHover,backgroundColor:e.colorBgTextHover}},$e(e)),"li:last-child":{color:e.breadcrumbLastItemColor,[`& > ${u}-separator`]:{display:"none"}},[`${u}-separator`]:{marginInline:e.breadcrumbSeparatorMargin,color:e.breadcrumbSeparatorColor},[`${u}-link`]:{[`
          > ${i} + span,
          > ${i} + a
        `]:{marginInlineStart:e.marginXXS}},[`${u}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",padding:`0 ${e.paddingXXS}px`,marginInline:-e.marginXXS,[`> ${i}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.breadcrumbLinkColorHover,backgroundColor:e.colorBgTextHover,a:{color:e.breadcrumbLinkColorHover}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},st=Se("Breadcrumb",e=>{const u=Re(e,{breadcrumbBaseColor:e.colorTextDescription,breadcrumbFontSize:e.fontSize,breadcrumbIconFontSize:e.fontSize,breadcrumbLinkColor:e.colorTextDescription,breadcrumbLinkColorHover:e.colorText,breadcrumbLastItemColor:e.colorText,breadcrumbSeparatorMargin:e.marginXS,breadcrumbSeparatorColor:e.colorTextDescription});return[at(u)]}),it=()=>({prefixCls:String,routes:{type:Array},params:N.any,separator:N.any,itemRender:{type:Function}});function lt(e,u){if(!e.breadcrumbName)return null;const i=Object.keys(u).join("|");return e.breadcrumbName.replace(new RegExp(`:(${i})`,"g"),(s,f)=>u[f]||s)}function ce(e){const{route:u,params:i,routes:o,paths:s}=e,f=o.indexOf(u)===o.length-1,c=lt(u,i);return f?l("span",null,[c]):l("a",{href:`#/${s.join("/")}`},[c])}const M=V({compatConfig:{MODE:3},name:"ABreadcrumb",inheritAttrs:!1,props:it(),slots:Object,setup(e,u){let{slots:i,attrs:o}=u;const{prefixCls:s,direction:f}=J("breadcrumb",e),[c,x]=st(s),v=(d,p)=>(d=(d||"").replace(/^\//,""),Object.keys(p).forEach(m=>{d=d.replace(`:${m}`,p[m])}),d),S=(d,p,m)=>{const b=[...d],R=v(p||"",m);return R&&b.push(R),b},t=d=>{let{routes:p=[],params:m={},separator:b,itemRender:R=ce}=d;const a=[];return p.map(r=>{const n=v(r.path,m);n&&a.push(n);const g=[...a];let y=null;r.children&&r.children.length&&(y=l(be,{items:r.children.map(h=>({key:h.path||h.breadcrumbName,label:R({route:h,params:m,routes:p,paths:S(g,h.path,m)})}))},null));const w={separator:b};return y&&(w.overlay=y),l(G,L(L({},w),{},{key:n||r.breadcrumbName}),{default:()=>[R({route:r,params:m,routes:p,paths:g})]})})};return()=>{var d;let p;const{routes:m,params:b={}}=e,R=ue(H(i,e)),a=(d=H(i,e,"separator"))!==null&&d!==void 0?d:"/",r=e.itemRender||i.itemRender||ce;m&&m.length>0?p=t({routes:m,params:b,separator:a,itemRender:r}):R.length&&(p=R.map((g,y)=>(xe(typeof g.type=="object"&&(g.type.__ANT_BREADCRUMB_ITEM||g.type.__ANT_BREADCRUMB_SEPARATOR)),Oe(g,{separator:a,key:y}))));const n={[s.value]:!0,[`${s.value}-rtl`]:f.value==="rtl",[`${o.class}`]:!!o.class,[x.value]:!0};return c(l("nav",L(L({},o),{},{class:n}),[l("ol",null,[p])]))}}});var ct=function(e,u){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&u.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)u.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(i[o[s]]=e[o[s]]);return i};const ut=()=>({prefixCls:String}),oe=V({compatConfig:{MODE:3},name:"ABreadcrumbSeparator",__ANT_BREADCRUMB_SEPARATOR:!0,inheritAttrs:!1,props:ut(),setup(e,u){let{slots:i,attrs:o}=u;const{prefixCls:s}=J("breadcrumb",e);return()=>{var f;const{separator:c,class:x}=o,v=ct(o,["separator","class"]),S=ue((f=i.default)===null||f===void 0?void 0:f.call(i));return l("span",L({class:[`${s.value}-separator`,x]},v),[S.length>0?S:"/"])}}});M.Item=G;M.Separator=oe;M.install=function(e){return e.component(M.name,M),e.component(G.name,G),e.component(oe.name,oe),e};const dt={small:8,middle:16,large:24},pt=()=>({prefixCls:String,size:{type:[String,Number,Array]},direction:N.oneOf(se("horizontal","vertical")).def("horizontal"),align:N.oneOf(se("start","end","center","baseline")),wrap:Le()});function mt(e){return typeof e=="string"?dt[e]:e||0}const W=V({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:pt(),slots:Object,setup(e,u){let{slots:i,attrs:o}=u;const{prefixCls:s,space:f,direction:c}=J("space",e),[x,v]=et(s),S=Qe(),t=E(()=>{var r,n,g;return(g=(r=e.size)!==null&&r!==void 0?r:(n=f==null?void 0:f.value)===null||n===void 0?void 0:n.size)!==null&&g!==void 0?g:"small"}),d=F(),p=F();Q(t,()=>{[d.value,p.value]=(Array.isArray(t.value)?t.value:[t.value,t.value]).map(r=>mt(r))},{immediate:!0});const m=E(()=>e.align===void 0&&e.direction==="horizontal"?"center":e.align),b=E(()=>Te(s.value,v.value,`${s.value}-${e.direction}`,{[`${s.value}-rtl`]:c.value==="rtl",[`${s.value}-align-${m.value}`]:m.value})),R=E(()=>c.value==="rtl"?"marginLeft":"marginRight"),a=E(()=>{const r={};return S.value&&(r.columnGap=`${d.value}px`,r.rowGap=`${p.value}px`),D(D({},r),e.wrap&&{flexWrap:"wrap",marginBottom:`${-p.value}px`})});return()=>{var r,n;const{wrap:g,direction:y="horizontal"}=e,w=(r=i.default)===null||r===void 0?void 0:r.call(i),h=ke(w),T=h.length;if(T===0)return null;const B=(n=i.split)===null||n===void 0?void 0:n.call(i),q=`${s.value}-item`,K=d.value,I=T-1;return l("div",L(L({},o),{},{class:[b.value,o.class],style:[a.value,o.style]}),[h.map((Y,P)=>{let U=w.indexOf(Y);U===-1&&(U=`$$space-${P}`);let z={};return S.value||(y==="vertical"?P<I&&(z={marginBottom:`${K/(B?2:1)}px`}):z=D(D({},P<I&&{[R.value]:`${K/(B?2:1)}px`}),g&&{paddingBottom:`${p.value}px`})),x(l(re,{key:U},[l("div",{class:q,style:z},[Y]),P<I&&B&&l("span",{class:`${q}-split`,style:z},[B])]))})])}}});W.Compact=te;W.install=function(e){return e.component(W.name,W),e.component(te.name,te),e};const ft={class:"theme-config-content"},gt={class:"config-item"},_t={class:"color-list"},vt={class:"config-item"},bt={class:"config-item"},ht={class:"switch-list"},yt=V({__name:"themeConfigDrawer",setup(e,{expose:u}){const i=de(),{themeConfig:o}=X(i),s=ne({open:!1,color:o.value.primary}),f=()=>{s.open=!1},c=()=>{s.open=!0},x=()=>{o.value.primary=s.color},v=()=>{window.location.reload()};return u({onOpen:c}),(S,t)=>{const d=A("CloseOutlined"),p=Ye,m=Ze,b=Je,R=W,a=tt,r=qe;return k(),j(r,{width:300,placement:"right",open:s.open,onClose:f,closable:!1,class:"theme-config-drawer",bodyStyle:{padding:"10px"},headerStyle:{padding:"10px"}},{title:_(()=>t[5]||(t[5]=[$(" 主题配置 ")])),extra:_(()=>[l(d,{onClick:f})]),default:_(()=>[C("div",ft,[C("div",gt,[t[6]||(t[6]=C("div",{class:"config-title"},"主题色",-1)),C("div",_t,[Be(C("input",{type:"color",class:"color-picker","onUpdate:modelValue":t[0]||(t[0]=n=>s.color=n),onChange:x},null,544),[[Ae,s.color]])])]),C("div",vt,[l(m,{value:O(o).globalComponentSize,"onUpdate:value":t[1]||(t[1]=n=>O(o).globalComponentSize=n)},{default:_(()=>[l(p,{value:"large"},{default:_(()=>t[7]||(t[7]=[$("large")])),_:1}),l(p,{value:"default"},{default:_(()=>t[8]||(t[8]=[$("default")])),_:1}),l(p,{value:"small"},{default:_(()=>t[9]||(t[9]=[$("small")])),_:1})]),_:1},8,["value"])]),C("div",bt,[t[16]||(t[16]=C("div",{class:"config-title"},"其他配置",-1)),C("div",ht,[l(R,{direction:"vertical"},{default:_(()=>[l(b,{checked:O(o).isFixedHeader,"onUpdate:checked":t[2]||(t[2]=n=>O(o).isFixedHeader=n)},{checkedChildren:_(()=>t[10]||(t[10]=[$("固定头部")])),unCheckedChildren:_(()=>t[11]||(t[11]=[$("不固定头部")])),_:1},8,["checked"]),l(b,{checked:O(o).isTagsview,"onUpdate:checked":t[3]||(t[3]=n=>O(o).isTagsview=n)},{checkedChildren:_(()=>t[12]||(t[12]=[$("显示标签页")])),unCheckedChildren:_(()=>t[13]||(t[13]=[$("隐藏标签页")])),_:1},8,["checked"]),l(b,{checked:O(o).isBreadcrumb,"onUpdate:checked":t[4]||(t[4]=n=>O(o).isBreadcrumb=n)},{checkedChildren:_(()=>t[14]||(t[14]=[$("显示面包屑")])),unCheckedChildren:_(()=>t[15]||(t[15]=[$("隐藏面包屑")])),_:1},8,["checked"])]),_:1})])]),l(a,{type:"primary",onClick:v,class:"w-full"},{default:_(()=>t[17]||(t[17]=[$("重置")])),_:1})])]),_:1},8,["open"])}}}),Ct=ae(yt,[["__scopeId","data-v-e38f1626"]]),St={class:"tags-list"},Rt=["onClick"],wt={class:"tags-text"},$t=V({__name:"navbars",setup(e){Ie(a=>({"3dbf6e2c":x.value}));const u=pe(),i=me(),o=ze(),s=de(),{state:f}=X(o),c=ne({tagsRouteList:[],tagsViewRoutes:[],activeTagView:{}}),x=E(()=>s.themeConfig.primary),v=()=>{const a=i.currentRoute.value;c.activeTagView=a,Ee.emit("navbar:click",a.path);let r=c.tagsViewRoutes.find(n=>{if(n.path===a.path)return!0});r&&(r=c.tagsRouteList.find(n=>{if(n.path===a.path)return!0}),!r&&(c.tagsRouteList.push(a),ie.set(le,c.tagsRouteList)))};Q(()=>u.path,()=>{v()},{immediate:!0});const S=a=>u.path===a,t=F(),d=F([]),p=(a,r)=>{a&&(d.value[r]=a)},m=a=>{if(!t.value||!d.value[a])return;const r=t.value,n=d.value[a],g=r.offsetWidth,y=n.offsetLeft,w=n.offsetWidth,h=150;y-r.scrollLeft<h?r.scrollTo({left:y-h,behavior:"smooth"}):y+w-(r.scrollLeft+g-h)>0&&r.scrollTo({left:y-g+w+h,behavior:"smooth"})},b=a=>{if(u.path!==a.path){i.push(a.path);const r=c.tagsRouteList.findIndex(n=>n.path===a.path);r!==-1&&m(r)}};Q(()=>u.path,()=>{je(()=>{const a=c.tagsRouteList.findIndex(r=>r.path===u.path);a!==-1&&m(a)})});const R=a=>{console.log(c.tagsRouteList[a].path,c.activeTagView.path,c.tagsRouteList[a].path.trim()===c.activeTagView.path.trim()),c.tagsRouteList[a].path.trim()===c.activeTagView.path.trim()&&(c.tagsRouteList[a-1]?i.push(c.tagsRouteList[a-1].path):i.push(c.tagsRouteList[a+1].path)),c.tagsRouteList.splice(a,1)};return De(()=>{c.tagsViewRoutes=f.value.tagsViewRoutes}),fe(()=>{const a=ie.get(le);c.tagsRouteList=Array.isArray(a)?a:[],v()}),(a,r)=>{const n=A("close-outlined");return k(),Z("div",{class:"navbars-container-scroll",ref_key:"scrollContainerRef",ref:t},[C("ul",St,[(k(!0),Z(re,null,ge(c.tagsRouteList,(g,y)=>{var w;return k(),Z("li",{key:y,class:Ve(["tags-item",{"is-active":S(g.path)}]),onClick:h=>b(g),ref_for:!0,ref:h=>p(h,y)},[C("span",wt,ee((w=g.meta)==null?void 0:w.title),1),c.tagsRouteList.length>1?(k(),j(n,{key:0,class:"tags-icon",onClick:_e(h=>R(y),["stop"])},null,8,["onClick"])):Pe("",!0)],10,Rt)}),128))])],512)}}}),xt=ae($t,[["__scopeId","data-v-de08c964"]]),Ot={class:"header-layout-top"},Lt={class:"header-left"},Tt={class:"user-info"},kt={class:"icon"},Bt={class:"icon ml-5"},At={class:"icon ml-5"},It={class:"header-layout-bottom"},zt=V({__name:"layoutHeader",setup(e){const u=pe(),i=me(),o=Me(),{state:s}=X(o),f=We(),{collapsed:c}=X(f),x=Ne(),{state:v}=X(x),S=F(),t=F(),d=ne({breadcrumbList:[]}),p=()=>{const r=u.path,n=[],g=(y,w)=>{for(let h=0;h<y.length;h++){const T=y[h];if(n.push(T),T.path===w)return n;if(Array.isArray(T.children)&&T.children.length>0){const B=g(T.children,w);if(B)return B}n.pop()}return null};d.breadcrumbList=g(Ge.cloneDeep(v.value.routesList),r)},m=()=>{var r;(r=t.value)==null||r.onOpen()},b=()=>{var r;(r=S.value)==null||r.onOpen()};Fe(()=>{u.path,p()});const R=async()=>{await He(),Xe(),window.location.reload()},a=()=>{i.push({path:"/dataview/projects"})};return fe(()=>{}),(r,n)=>{const g=A("menu-unfold-outlined"),y=A("menu-fold-outlined"),w=G,h=M,T=A("FontSizeOutlined"),B=A("SkinFilled"),q=A("UserOutlined"),K=A("DownOutlined"),I=ot,Y=be,P=ve,U=Ue;return k(),j(U,{style:{background:"#fff",padding:"0 10px"}},{default:_(()=>[C("div",Ot,[C("div",Lt,[O(c)?(k(),j(g,{key:0,class:"trigger",onClick:n[0]||(n[0]=()=>c.value=!O(c))})):(k(),j(y,{key:1,class:"trigger",onClick:n[1]||(n[1]=()=>c.value=!O(c))})),l(h,{class:"ml-3"},{default:_(()=>[(k(!0),Z(re,null,ge(d.breadcrumbList,z=>(k(),j(w,{key:z.id},{default:_(()=>[$(ee(z.meta.title),1)]),_:2},1024))),128))]),_:1})]),C("div",Tt,[C("div",kt,[l(T)]),C("div",Bt,[l(B,{onClick:m})]),C("div",At,[l(q,{onClick:b})]),l(P,{class:"ml-5"},{overlay:_(()=>[l(Y,null,{default:_(()=>[l(I,null,{default:_(()=>n[3]||(n[3]=[$(" 个人中心 ")])),_:1}),l(I,{onClick:a},{default:_(()=>n[4]||(n[4]=[$(" 进入大屏 ")])),_:1}),l(I,{onClick:R},{default:_(()=>n[5]||(n[5]=[$(" 退出登录 ")])),_:1})]),_:1})]),default:_(()=>[C("div",{class:"ant-dropdown-link",onClick:n[2]||(n[2]=_e(()=>{},["prevent"]))},[$(ee(O(s).userInfos.account)+" ",1),l(K)])]),_:1}),l(Ct,{ref_key:"themeConfigRef",ref:t},null,512),l(Ke,{ref_key:"onlineUserRef",ref:S},null,512)])]),C("div",It,[l(xt)])]),_:1})}}}),Mo=ae(zt,[["__scopeId","data-v-aac976a5"]]);export{Mo as default};
