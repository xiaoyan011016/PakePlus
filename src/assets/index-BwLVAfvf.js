import{aE as Oe,an as $,aS as Ke,aF as q,d as J,i as Z,as as D,e as C,a8 as G,a1 as ue,j as Y,o as Re,av as V,F as Ee,ae as pe,aW as $e,aG as ie,aX as Fe,aY as Ye,ad as ye,aJ as Ne,aZ as Ze,aU as Q,aH as Xe,ac as we,ab as Te,a_ as Je,ap as qe,a$ as Qe,b0 as et}from"./index-BGwiQ_ZP.js";import{B as je,a as Me,c as Se,F as se,g as le,N as Ae,d as _e}from"./index-CalSw2eR.js";import{o as X}from"./omit-HeMvMqzr.js";import{c as ee}from"./vnode-BaoCyZaz.js";import{u as tt,N as ze}from"./compact-item-CDNQQAbH.js";import{B as nt}from"./index-_DVN_kvK.js";import{i as at}from"./isPlainObject-DJIrIqvg.js";import{R as lt}from"./index-Dn-jGRft.js";import{w as fe}from"./_getTag-BRywsnft.js";const oe=e=>e!=null&&(Array.isArray(e)?Oe(e).length:!0);function Ie(e){return oe(e.prefix)||oe(e.suffix)||oe(e.allowClear)}function ve(e){return oe(e.addonBefore)||oe(e.addonAfter)}function Ce(e){return typeof e>"u"||e===null?"":String(e)}function re(e,f,t,n){if(!t)return;const a=f;if(f.type==="click"){Object.defineProperty(a,"target",{writable:!0}),Object.defineProperty(a,"currentTarget",{writable:!0});const m=e.cloneNode(!0);a.target=m,a.currentTarget=m,m.value="",t(a);return}if(n!==void 0){Object.defineProperty(a,"target",{writable:!0}),Object.defineProperty(a,"currentTarget",{writable:!0}),a.target=e,a.currentTarget=e,e.value=n,t(a);return}t(a)}function Ve(e,f){if(!e)return;e.focus(f);const{cursor:t}=f||{};if(t){const n=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}const ot=()=>({addonBefore:q.any,addonAfter:q.any,prefix:q.any,suffix:q.any,clearIcon:q.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),ke=()=>$($({},ot()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:q.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),De=()=>$($({},ke()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:Ke("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),rt=J({name:"BaseInput",inheritAttrs:!1,props:ke(),setup(e,f){let{slots:t,attrs:n}=f;const a=Z(),m=l=>{var d;if(!((d=a.value)===null||d===void 0)&&d.contains(l.target)){const{triggerFocus:s}=e;s==null||s()}},i=()=>{var l;const{allowClear:d,value:s,disabled:b,readonly:p,handleReset:u,suffix:A=t.suffix,prefixCls:z}=e;if(!d)return null;const P=!b&&!p&&s,c=`${z}-clear-icon`,O=((l=t.clearIcon)===null||l===void 0?void 0:l.call(t))||"*";return C("span",{onClick:u,onMousedown:S=>S.preventDefault(),class:D({[`${c}-hidden`]:!P,[`${c}-has-suffix`]:!!A},c),role:"button",tabindex:-1},[O])};return()=>{var l,d;const{focused:s,value:b,disabled:p,allowClear:u,readonly:A,hidden:z,prefixCls:P,prefix:c=(l=t.prefix)===null||l===void 0?void 0:l.call(t),suffix:O=(d=t.suffix)===null||d===void 0?void 0:d.call(t),addonAfter:S=t.addonAfter,addonBefore:I=t.addonBefore,inputElement:E,affixWrapperClassName:v,wrapperClassName:g,groupClassName:o}=e;let w=ee(E,{value:b,hidden:z});if(Ie({prefix:c,suffix:O,allowClear:u})){const y=`${P}-affix-wrapper`,R=D(y,{[`${y}-disabled`]:p,[`${y}-focused`]:s,[`${y}-readonly`]:A,[`${y}-input-with-clear-btn`]:O&&u&&b},!ve({addonAfter:S,addonBefore:I})&&n.class,v),T=(O||u)&&C("span",{class:`${P}-suffix`},[i(),O]);w=C("span",{class:R,style:n.style,hidden:!ve({addonAfter:S,addonBefore:I})&&z,onMousedown:m,ref:a},[c&&C("span",{class:`${P}-prefix`},[c]),ee(E,{style:null,value:b,hidden:null}),T])}if(ve({addonAfter:S,addonBefore:I})){const y=`${P}-group`,R=`${y}-addon`,T=D(`${P}-wrapper`,y,g),N=D(`${P}-group-wrapper`,n.class,o);return C("span",{class:N,style:n.style,hidden:z},[C("span",{class:T},[I&&C("span",{class:R},[I]),ee(w,{style:null,hidden:null}),S&&C("span",{class:R},[S])])])}return w}}});var ut=function(e,f){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&f.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)f.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const st=J({name:"VCInput",inheritAttrs:!1,props:De(),setup(e,f){let{slots:t,attrs:n,expose:a,emit:m}=f;const i=G(e.value===void 0?e.defaultValue:e.value),l=G(!1),d=G(),s=G();ue(()=>e.value,()=>{i.value=e.value}),ue(()=>e.disabled,()=>{e.disabled&&(l.value=!1)});const b=o=>{d.value&&Ve(d.value.input,o)},p=()=>{var o;(o=d.value.input)===null||o===void 0||o.blur()},u=(o,w,y)=>{var R;(R=d.value.input)===null||R===void 0||R.setSelectionRange(o,w,y)},A=()=>{var o;(o=d.value.input)===null||o===void 0||o.select()};a({focus:b,blur:p,input:Y(()=>{var o;return(o=d.value.input)===null||o===void 0?void 0:o.input}),stateValue:i,setSelectionRange:u,select:A});const z=o=>{m("change",o)},P=(o,w)=>{i.value!==o&&(e.value===void 0?i.value=o:pe(()=>{var y;d.value.input.value!==i.value&&((y=s.value)===null||y===void 0||y.$forceUpdate())}),pe(()=>{w&&w()}))},c=o=>{const{value:w}=o.target;if(i.value===w)return;const y=o.target.value;re(d.value.input,o,z),P(y)},O=o=>{o.keyCode===13&&m("pressEnter",o),m("keydown",o)},S=o=>{l.value=!0,m("focus",o)},I=o=>{l.value=!1,m("blur",o)},E=o=>{re(d.value.input,o,z),P("",()=>{b()})},v=()=>{var o,w;const{addonBefore:y=t.addonBefore,addonAfter:R=t.addonAfter,disabled:T,valueModifiers:N={},htmlSize:x,autocomplete:_,prefixCls:F,inputClassName:j,prefix:U=(o=t.prefix)===null||o===void 0?void 0:o.call(t),suffix:L=(w=t.suffix)===null||w===void 0?void 0:w.call(t),allowClear:r,type:h="text"}=e,B=X(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),M=$($($({},B),n),{autocomplete:_,onChange:c,onInput:c,onFocus:S,onBlur:I,onKeydown:O,class:D(F,{[`${F}-disabled`]:T},j,!ve({addonAfter:R,addonBefore:y})&&!Ie({prefix:U,suffix:L,allowClear:r})&&n.class),ref:d,key:"ant-input",size:x,type:h,lazy:e.lazy});return N.lazy&&delete M.onInput,M.autofocus||delete M.autofocus,C(je,X(M,["size"]),null)},g=()=>{var o;const{maxlength:w,suffix:y=(o=t.suffix)===null||o===void 0?void 0:o.call(t),showCount:R,prefixCls:T}=e,N=Number(w)>0;if(y||R){const x=[...Ce(i.value)].length,_=typeof R=="object"?R.formatter({count:x,maxlength:w}):`${x}${N?` / ${w}`:""}`;return C(Ee,null,[!!R&&C("span",{class:D(`${T}-show-count-suffix`,{[`${T}-show-count-has-suffix`]:!!y})},[_]),y])}return null};return Re(()=>{}),()=>{const{prefixCls:o,disabled:w}=e,y=ut(e,["prefixCls","disabled"]);return C(rt,V(V(V({},y),n),{},{ref:s,prefixCls:o,inputElement:v(),handleReset:E,value:Ce(i.value),focused:l.value,triggerFocus:b,suffix:g(),disabled:w}),t)}}}),me=()=>X(De(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),We=()=>$($({},X(me(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:$e(),onCompositionend:$e(),valueModifiers:Object});var it=function(e,f){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&f.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)f.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const k=J({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:me(),setup(e,f){let{slots:t,attrs:n,expose:a,emit:m}=f;const i=Z(),l=Me(),d=se.useInject(),s=Y(()=>_e(d.status,e.status)),{direction:b,prefixCls:p,size:u,autocomplete:A}=ie("input",e),{compactSize:z,compactItemClassnames:P}=tt(p,b),c=Y(()=>z.value||u.value),[O,S]=Se(p),I=Fe();a({focus:x=>{var _;(_=i.value)===null||_===void 0||_.focus(x)},blur:()=>{var x;(x=i.value)===null||x===void 0||x.blur()},input:i,setSelectionRange:(x,_,F)=>{var j;(j=i.value)===null||j===void 0||j.setSelectionRange(x,_,F)},select:()=>{var x;(x=i.value)===null||x===void 0||x.select()}});const w=Z([]),y=()=>{w.value.push(setTimeout(()=>{var x,_,F,j;!((x=i.value)===null||x===void 0)&&x.input&&((_=i.value)===null||_===void 0?void 0:_.input.getAttribute("type"))==="password"&&(!((F=i.value)===null||F===void 0)&&F.input.hasAttribute("value"))&&((j=i.value)===null||j===void 0||j.input.removeAttribute("value"))}))};Re(()=>{y()}),Ye(()=>{w.value.forEach(x=>clearTimeout(x))}),ye(()=>{w.value.forEach(x=>clearTimeout(x))});const R=x=>{y(),m("blur",x),l.onFieldBlur()},T=x=>{y(),m("focus",x)},N=x=>{m("update:value",x.target.value),m("change",x),m("input",x),l.onFieldChange()};return()=>{var x,_,F,j,U,L;const{hasFeedback:r,feedbackIcon:h}=d,{allowClear:B,bordered:M=!0,prefix:W=(x=t.prefix)===null||x===void 0?void 0:x.call(t),suffix:ae=(_=t.suffix)===null||_===void 0?void 0:_.call(t),addonAfter:de=(F=t.addonAfter)===null||F===void 0?void 0:F.call(t),addonBefore:te=(j=t.addonBefore)===null||j===void 0?void 0:j.call(t),id:ce=(U=l.id)===null||U===void 0?void 0:U.value}=e,ne=it(e,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),Ue=(r||ae)&&C(Ee,null,[ae,r&&h]),H=p.value,Ge=Ie({prefix:W,suffix:ae})||!!r,Le=t.clearIcon||(()=>C(Ne,null,null));return O(C(st,V(V(V({},n),X(ne,["onUpdate:value","onChange","onInput"])),{},{onChange:N,id:ce,disabled:(L=e.disabled)!==null&&L!==void 0?L:I.value,ref:i,prefixCls:H,autocomplete:A.value,onBlur:R,onFocus:T,prefix:W,suffix:Ue,allowClear:B,addonAfter:de&&C(ze,null,{default:()=>[C(Ae,null,{default:()=>[de]})]}),addonBefore:te&&C(ze,null,{default:()=>[C(Ae,null,{default:()=>[te]})]}),class:[n.class,P.value],inputClassName:D({[`${H}-sm`]:c.value==="small",[`${H}-lg`]:c.value==="large",[`${H}-rtl`]:b.value==="rtl",[`${H}-borderless`]:!M},!Ge&&le(H,s.value),S.value),affixWrapperClassName:D({[`${H}-affix-wrapper-sm`]:c.value==="small",[`${H}-affix-wrapper-lg`]:c.value==="large",[`${H}-affix-wrapper-rtl`]:b.value==="rtl",[`${H}-affix-wrapper-borderless`]:!M},le(`${H}-affix-wrapper`,s.value,r),S.value),wrapperClassName:D({[`${H}-group-rtl`]:b.value==="rtl"},S.value),groupClassName:D({[`${H}-group-wrapper-sm`]:c.value==="small",[`${H}-group-wrapper-lg`]:c.value==="large",[`${H}-group-wrapper-rtl`]:b.value==="rtl"},le(`${H}-group-wrapper`,s.value,r),S.value)}),$($({},t),{clearIcon:Le})))}}}),dt=J({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(e,f){let{slots:t,attrs:n}=f;const{prefixCls:a,direction:m,getPrefixCls:i}=ie("input-group",e),l=se.useInject();se.useProvide(l,{isFormItemInput:!1});const d=Y(()=>i("input")),[s,b]=Se(d),p=Y(()=>{const u=a.value;return{[`${u}`]:!0,[b.value]:!0,[`${u}-lg`]:e.size==="large",[`${u}-sm`]:e.size==="small",[`${u}-compact`]:e.compact,[`${u}-rtl`]:m.value==="rtl"}});return()=>{var u;return s(C("span",V(V({},n),{},{class:D(p.value,n.class)}),[(u=t.default)===null||u===void 0?void 0:u.call(t)]))}}});var ct=function(e,f){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&f.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)f.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const ft=J({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:$($({},me()),{inputPrefixCls:String,enterButton:q.any,onSearch:{type:Function}}),setup(e,f){let{slots:t,attrs:n,expose:a,emit:m}=f;const i=G(),l=G(!1);a({focus:()=>{var v;(v=i.value)===null||v===void 0||v.focus()},blur:()=>{var v;(v=i.value)===null||v===void 0||v.blur()}});const b=v=>{m("update:value",v.target.value),v&&v.target&&v.type==="click"&&m("search",v.target.value,v),m("change",v)},p=v=>{var g;document.activeElement===((g=i.value)===null||g===void 0?void 0:g.input)&&v.preventDefault()},u=v=>{var g,o;m("search",(o=(g=i.value)===null||g===void 0?void 0:g.input)===null||o===void 0?void 0:o.stateValue,v)},A=v=>{l.value||e.loading||u(v)},z=v=>{l.value=!0,m("compositionstart",v)},P=v=>{l.value=!1,m("compositionend",v)},{prefixCls:c,getPrefixCls:O,direction:S,size:I}=ie("input-search",e),E=Y(()=>O("input",e.inputPrefixCls));return()=>{var v,g,o,w;const{disabled:y,loading:R,addonAfter:T=(v=t.addonAfter)===null||v===void 0?void 0:v.call(t),suffix:N=(g=t.suffix)===null||g===void 0?void 0:g.call(t)}=e,x=ct(e,["disabled","loading","addonAfter","suffix"]);let{enterButton:_=(w=(o=t.enterButton)===null||o===void 0?void 0:o.call(t))!==null&&w!==void 0?w:!1}=e;_=_||_==="";const F=typeof _=="boolean"?C(Ze,null,null):null,j=`${c.value}-button`,U=Array.isArray(_)?_[0]:_;let L;const r=U.type&&at(U.type)&&U.type.__ANT_BUTTON;if(r||U.tagName==="button")L=ee(U,$({onMousedown:p,onClick:u,key:"enterButton"},r?{class:j,size:I.value}:{}),!1);else{const B=F&&!_;L=C(nt,{class:j,type:_?"primary":void 0,size:I.value,disabled:y,key:"enterButton",onMousedown:p,onClick:u,loading:R,icon:B?F:null},{default:()=>[B?null:F||_]})}T&&(L=[L,T]);const h=D(c.value,{[`${c.value}-rtl`]:S.value==="rtl",[`${c.value}-${I.value}`]:!!I.value,[`${c.value}-with-button`]:!!_},n.class);return C(k,V(V(V({ref:i},X(x,["onUpdate:value","onSearch","enterButton"])),n),{},{onPressEnter:A,onCompositionstart:z,onCompositionend:P,size:I.value,prefixCls:E.value,addonAfter:L,suffix:N,onChange:b,class:h,disabled:y}),t)}}}),Pe=e=>e!=null&&(Array.isArray(e)?Oe(e).length:!0);function vt(e){return Pe(e.addonBefore)||Pe(e.addonAfter)}const pt=["text","input"],mt=J({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:q.oneOf(Xe("text","input")),value:Q(),defaultValue:Q(),allowClear:{type:Boolean,default:void 0},element:Q(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:Q(),prefix:Q(),addonBefore:Q(),addonAfter:Q(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(e,f){let{slots:t,attrs:n}=f;const a=se.useInject(),m=l=>{const{value:d,disabled:s,readonly:b,handleReset:p,suffix:u=t.suffix}=e,A=!s&&!b&&d,z=`${l}-clear-icon`;return C(Ne,{onClick:p,onMousedown:P=>P.preventDefault(),class:D({[`${z}-hidden`]:!A,[`${z}-has-suffix`]:!!u},z),role:"button"},null)},i=(l,d)=>{const{value:s,allowClear:b,direction:p,bordered:u,hidden:A,status:z,addonAfter:P=t.addonAfter,addonBefore:c=t.addonBefore,hashId:O}=e,{status:S,hasFeedback:I}=a;if(!b)return ee(d,{value:s,disabled:e.disabled});const E=D(`${l}-affix-wrapper`,`${l}-affix-wrapper-textarea-with-clear-btn`,le(`${l}-affix-wrapper`,_e(S,z),I),{[`${l}-affix-wrapper-rtl`]:p==="rtl",[`${l}-affix-wrapper-borderless`]:!u,[`${n.class}`]:!vt({addonAfter:P,addonBefore:c})&&n.class},O);return C("span",{class:E,style:n.style,hidden:A},[ee(d,{style:null,value:s,disabled:e.disabled}),m(l)])};return()=>{var l;const{prefixCls:d,inputType:s,element:b=(l=t.element)===null||l===void 0?void 0:l.call(t)}=e;return s===pt[0]?i(d,b):null}}}),gt=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,xt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],ge={};let K;function bt(e){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(f&&ge[t])return ge[t];const n=window.getComputedStyle(e),a=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),m=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),i=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),d={sizingStyle:xt.map(s=>`${s}:${n.getPropertyValue(s)}`).join(";"),paddingSize:m,borderSize:i,boxSizing:a};return f&&t&&(ge[t]=d),d}function ht(e){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;K||(K=document.createElement("textarea"),K.setAttribute("tab-index","-1"),K.setAttribute("aria-hidden","true"),document.body.appendChild(K)),e.getAttribute("wrap")?K.setAttribute("wrap",e.getAttribute("wrap")):K.removeAttribute("wrap");const{paddingSize:a,borderSize:m,boxSizing:i,sizingStyle:l}=bt(e,f);K.setAttribute("style",`${l};${gt}`),K.value=e.value||e.placeholder||"";let d,s,b,p=K.scrollHeight;if(i==="border-box"?p+=m:i==="content-box"&&(p-=a),t!==null||n!==null){K.value=" ";const A=K.scrollHeight-a;t!==null&&(d=A*t,i==="border-box"&&(d=d+a+m),p=Math.max(d,p)),n!==null&&(s=A*n,i==="border-box"&&(s=s+a+m),b=p>s?"":"hidden",p=Math.min(s,p))}const u={height:`${p}px`,overflowY:b,resize:"none"};return d&&(u.minHeight=`${d}px`),s&&(u.maxHeight=`${s}px`),u}const xe=0,be=1,he=2,yt=J({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:We(),setup(e,f){let{attrs:t,emit:n,expose:a}=f,m,i;const l=Z(),d=Z({}),s=Z(he);ye(()=>{fe.cancel(m),fe.cancel(i)});const b=()=>{try{if(l.value&&document.activeElement===l.value.input){const g=l.value.getSelectionStart(),o=l.value.getSelectionEnd(),w=l.value.getScrollTop();l.value.setSelectionRange(g,o),l.value.setScrollTop(w)}}catch{}},p=Z(),u=Z();we(()=>{const g=e.autoSize||e.autosize;g?(p.value=g.minRows,u.value=g.maxRows):(p.value=void 0,u.value=void 0)});const A=Y(()=>!!(e.autoSize||e.autosize)),z=()=>{s.value=xe};ue([()=>e.value,p,u,A],()=>{A.value&&z()},{immediate:!0});const P=Z();ue([s,l],()=>{if(l.value)if(s.value===xe)s.value=be;else if(s.value===be){const g=ht(l.value.input,!1,p.value,u.value);s.value=he,P.value=g}else b()},{immediate:!0,flush:"post"});const c=Te(),O=Z(),S=()=>{fe.cancel(O.value)},I=g=>{s.value===he&&(n("resize",g),A.value&&(S(),O.value=fe(()=>{z()})))};ye(()=>{S()}),a({resizeTextarea:()=>{z()},textArea:Y(()=>{var g;return(g=l.value)===null||g===void 0?void 0:g.input}),instance:c}),Je(e.autosize===void 0);const v=()=>{const{prefixCls:g,disabled:o}=e,w=X(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","maxlength","valueModifiers"]),y=D(g,t.class,{[`${g}-disabled`]:o}),R=A.value?P.value:null,T=[t.style,d.value,R],N=$($($({},w),t),{style:T,class:y});return(s.value===xe||s.value===be)&&T.push({overflowX:"hidden",overflowY:"hidden"}),N.autofocus||delete N.autofocus,N.rows===0&&delete N.rows,C(lt,{onResize:I,disabled:!A.value},{default:()=>[C(je,V(V({},N),{},{ref:l,tag:"textarea"}),null)]})};return()=>v()}});function He(e,f){return[...e||""].slice(0,f).join("")}function Be(e,f,t,n){let a=t;return e?a=He(t,n):[...f||""].length<t.length&&[...t||""].length>n&&(a=f),a}const Ct=J({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:We(),setup(e,f){let{attrs:t,expose:n,emit:a}=f;var m;const i=Me(),l=se.useInject(),d=Y(()=>_e(l.status,e.status)),s=G((m=e.value)!==null&&m!==void 0?m:e.defaultValue),b=G(),p=G(""),{prefixCls:u,size:A,direction:z}=ie("input",e),[P,c]=Se(u),O=Fe(),S=Y(()=>e.showCount===""||e.showCount||!1),I=Y(()=>Number(e.maxlength)>0),E=G(!1),v=G(),g=G(0),o=r=>{E.value=!0,v.value=p.value,g.value=r.currentTarget.selectionStart,a("compositionstart",r)},w=r=>{var h;E.value=!1;let B=r.currentTarget.value;if(I.value){const M=g.value>=e.maxlength+1||g.value===((h=v.value)===null||h===void 0?void 0:h.length);B=Be(M,v.value,B,e.maxlength)}B!==p.value&&(N(B),re(r.currentTarget,r,F,B)),a("compositionend",r)},y=Te();ue(()=>e.value,()=>{var r;"value"in y.vnode.props,s.value=(r=e.value)!==null&&r!==void 0?r:""});const R=r=>{var h;Ve((h=b.value)===null||h===void 0?void 0:h.textArea,r)},T=()=>{var r,h;(h=(r=b.value)===null||r===void 0?void 0:r.textArea)===null||h===void 0||h.blur()},N=(r,h)=>{s.value!==r&&(e.value===void 0?s.value=r:pe(()=>{var B,M,W;b.value.textArea.value!==p.value&&((W=(B=b.value)===null||B===void 0?void 0:(M=B.instance).update)===null||W===void 0||W.call(M))}),pe(()=>{h&&h()}))},x=r=>{r.keyCode===13&&a("pressEnter",r),a("keydown",r)},_=r=>{const{onBlur:h}=e;h==null||h(r),i.onFieldBlur()},F=r=>{a("update:value",r.target.value),a("change",r),a("input",r),i.onFieldChange()},j=r=>{re(b.value.textArea,r,F),N("",()=>{R()})},U=r=>{let h=r.target.value;if(s.value!==h){if(I.value){const B=r.target,M=B.selectionStart>=e.maxlength+1||B.selectionStart===h.length||!B.selectionStart;h=Be(M,p.value,h,e.maxlength)}re(r.currentTarget,r,F,h),N(h)}},L=()=>{var r,h;const{class:B}=t,{bordered:M=!0}=e,W=$($($({},X(e,["allowClear"])),t),{class:[{[`${u.value}-borderless`]:!M,[`${B}`]:B&&!S.value,[`${u.value}-sm`]:A.value==="small",[`${u.value}-lg`]:A.value==="large"},le(u.value,d.value),c.value],disabled:O.value,showCount:null,prefixCls:u.value,onInput:U,onChange:U,onBlur:_,onKeydown:x,onCompositionstart:o,onCompositionend:w});return!((r=e.valueModifiers)===null||r===void 0)&&r.lazy&&delete W.onInput,C(yt,V(V({},W),{},{id:(h=W==null?void 0:W.id)!==null&&h!==void 0?h:i.id.value,ref:b,maxlength:e.maxlength,lazy:e.lazy}),null)};return n({focus:R,blur:T,resizableTextArea:b}),we(()=>{let r=Ce(s.value);!E.value&&I.value&&(e.value===null||e.value===void 0)&&(r=He(r,e.maxlength)),p.value=r}),()=>{var r;const{maxlength:h,bordered:B=!0,hidden:M}=e,{style:W,class:ae}=t,de=$($($({},e),t),{prefixCls:u.value,inputType:"text",handleReset:j,direction:z.value,bordered:B,style:S.value?void 0:W,hashId:c.value,disabled:(r=e.disabled)!==null&&r!==void 0?r:O.value});let te=C(mt,V(V({},de),{},{value:p.value,status:e.status}),{element:L});if(S.value||l.hasFeedback){const ce=[...p.value].length;let ne="";typeof S.value=="object"?ne=S.value.formatter({value:p.value,count:ce,maxlength:h}):ne=`${ce}${I.value?` / ${h}`:""}`,te=C("div",{hidden:M,class:D(`${u.value}-textarea`,{[`${u.value}-textarea-rtl`]:z.value==="rtl",[`${u.value}-textarea-show-count`]:S.value,[`${u.value}-textarea-in-form-item`]:l.isFormItemInput},`${u.value}-textarea-show-count`,ae,c.value),style:W,"data-count":typeof ne!="object"?ne:void 0},[te,l.hasFeedback&&C("span",{class:`${u.value}-textarea-suffix`},[l.feedbackIcon])])}return P(te)}}});var wt=function(e,f){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&f.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)f.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const St={click:"onClick",hover:"onMouseover"},_t=e=>e?C(Qe,null,null):C(et,null,null),It=J({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:$($({},me()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},visible:{type:Boolean,default:void 0},"onUpdate:visible":Function,iconRender:Function}),setup(e,f){let{slots:t,attrs:n,expose:a,emit:m}=f;const i=G(!1),l=()=>{const{disabled:c}=e;c||(i.value=!i.value,m("update:visible",i.value))};we(()=>{e.visible!==void 0&&(i.value=!!e.visible)});const d=G();a({focus:()=>{var c;(c=d.value)===null||c===void 0||c.focus()},blur:()=>{var c;(c=d.value)===null||c===void 0||c.blur()}});const p=c=>{const{action:O,iconRender:S=t.iconRender||_t}=e,I=St[O]||"",E=S(i.value),v={[I]:l,class:`${c}-icon`,key:"passwordIcon",onMousedown:g=>{g.preventDefault()},onMouseup:g=>{g.preventDefault()}};return ee(qe(E)?E:C("span",null,[E]),v)},{prefixCls:u,getPrefixCls:A}=ie("input-password",e),z=Y(()=>A("input",e.inputPrefixCls)),P=()=>{const{size:c,visibilityToggle:O}=e,S=wt(e,["size","visibilityToggle"]),I=O&&p(u.value),E=D(u.value,n.class,{[`${u.value}-${c}`]:!!c}),v=$($($({},X(S,["suffix","iconRender","action"])),n),{type:i.value?"text":"password",class:E,prefixCls:z.value,suffix:I});return c&&(v.size=c),C(k,V({ref:d},v),t)};return()=>P()}});k.Group=dt;k.Search=ft;k.TextArea=Ct;k.Password=It;k.install=function(e){return e.component(k.name,k),e.component(k.Group.name,k.Group),e.component(k.Search.name,k.Search),e.component(k.TextArea.name,k.TextArea),e.component(k.Password.name,k.Password),e};export{k as I,Ct as _,It as a,ft as b};
