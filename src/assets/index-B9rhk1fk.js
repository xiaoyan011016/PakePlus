import{n as v}from"./image-404-CYQSRSGu.js";import{_ as V}from"./coverImgView.vue_vue_type_script_setup_true_lang-Czb1VF94.js";import{a as B,b as R}from"./project-BHkV2mwb.js";import{d as N,i as x,r as E,o as F,C as T,c as p,a,e as r,F as _,D as U,q as m,m as q,n as G,f as i,g as H,w as n,x as h,p as c,E as b,G as k,H as L,I as Q}from"./index-BGwiQ_ZP.js";import A from"./addProjModel-BMaD4fe2.js";import{_ as J}from"./index-Bh7qAkTT.js";import{B as K}from"./index-_DVN_kvK.js";import{D as W}from"./index-C0T18UR7.js";import{M as X,a as Y}from"./index-BjablQaC.js";import{C as Z}from"./index-O9UFCIBE.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Dpm5AXGB.js";import"./KeyCode-CYuXKwrG.js";import"./omit-HeMvMqzr.js";import"./pickAttrs-DQvtcfDv.js";import"./zoom-CXqzwkKe.js";import"./_getTag-BRywsnft.js";import"./styleChecker-DfAMPleG.js";import"./ActionButton-4KVVUbhX.js";import"./vnode-BaoCyZaz.js";import"./index-C3-0t2lO.js";import"./index-DzzgRnZQ.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./hasIn-B69yjgv2.js";import"./isPlainObject-DJIrIqvg.js";import"./Col-DruUELZH.js";import"./responsiveObserve-ChmocN4c.js";import"./devWarning-MTSIIkhh.js";import"./collapseMotion-D2RrGThV.js";import"./debounce-BUZtn0sP.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./compact-item-CDNQQAbH.js";import"./index-CEnhULtM.js";import"./index-BwLVAfvf.js";import"./index-Dn-jGRft.js";import"./index-DQufTizB.js";import"./Checkbox-BZ1yw4ia.js";import"./index-4yq-Tlp0.js";import"./index-CKmLu0Sy.js";import"./index-CGXbiuUf.js";import"./slide-NWV3xR2G.js";import"./createRef-CUnV3TOs.js";import"./isMobile-BbN7I0i_.js";import"./move-wLULaQ1Q.js";import"./List-163jSJPW.js";import"./useMemo-BMsKZuSN.js";import"./useMergedState-DA2nm7bB.js";import"./useState-DblkWJ1i.js";import"./useBreakpoint-CpQcD87b.js";import"./Dropdown-C4JaQ-9X.js";import"./index-DkgGzfF8.js";const et={class:"project-container h-full flex flex-col"},ot={class:"projects flex-1 flex flex-wrap overflow-y-auto p-4"},at={class:"project-item"},st=["onClick"],rt=["src"],nt={class:"footer-opt flex w-full justify-between"},it={class:"desc w-[25%] overflow-hidden whitespace-nowrap text-ellipsis"},lt={class:"icon flex items-center flex-1 justify-end"},pt={class:"tag flex items-center"},mt={key:1,class:"flex-1 flex items-center justify-center flex-col"},ct=["src"],dt={class:"pagination-wrapper py-4 px-4 bg-white"},ut=N({__name:"index",setup(_t){const P=q(),f=x(),g=x(),o=E({data:[],tableParams:{page:1,pageSize:5,total:0},loading:!1}),y=s=>{var t;(t=g.value)==null||t.handleOpen(s)},d=async s=>{o.loading=!0;const t=Object.assign({},s,o.tableParams),l=await B(t);o.data=l.data.result.items,o.tableParams.total=l.data.result.total,o.loading=!1},j=(s,t)=>{o.tableParams.page=s,o.tableParams.pageSize=t,d()},C=async s=>{await R({id:s.id}),Q("删除成功","success"),await d()},D=s=>{P.push({path:`/design/${s.id}`})},z=s=>{var t;(t=f.value)==null||t.handleOpen(s)};return F(()=>{T.on("project-search",d),d()}),(s,t)=>{const l=K,w=Y,O=G("DeleteOutlined"),$=X,I=W,M=Z,S=J;return i(),p("div",et,[a("div",ot,[o.data.length?(i(!0),p(_,{key:0},U(o.data,e=>(i(),H(M,{class:"mr-2 mb-5",style:{width:"290px",height:"250px"}},{title:n(()=>[c(h(e.projectName),1)]),default:n(()=>[a("div",at,[a("div",{class:"image mb-2 cursor-pointer overflow-hidden",onClick:u=>y(e)},[a("img",{src:e.coverImg?`/${e.coverImg}`:m(v)},null,8,rt)],8,st),a("div",nt,[a("div",it,h(e.remark),1),a("div",lt,[a("div",pt,[e.isPublish==1?(i(),p(_,{key:0},[t[2]||(t[2]=a("span",{class:"block w-2 h-2 rounded mr-1",style:{"background-color":"#34c749"}},null,-1)),t[3]||(t[3]=c("已发布 "))],64)):(i(),p(_,{key:1},[t[4]||(t[4]=a("span",{class:"block w-2 h-2 rounded mr-1",style:{"background-color":"red"}},null,-1)),t[5]||(t[5]=c("未发布 "))],64))]),r(l,{class:"ml-2",shape:"circle",icon:b(m(k)),onClick:u=>D(e)},null,8,["icon","onClick"]),r(I,null,{overlay:n(()=>[r($,null,{default:n(()=>[r(w,{onClick:u=>z(e)},{default:n(()=>[r(m(k)),t[6]||(t[6]=c("基础修改 "))]),_:2},1032,["onClick"]),r(w,{onClick:u=>C(e)},{default:n(()=>[r(O),t[7]||(t[7]=c("删除 "))]),_:2},1032,["onClick"])]),_:2},1024)]),default:n(()=>[r(l,{class:"ml-2",shape:"circle",icon:b(m(L))},null,8,["icon"])]),_:2},1024)])])])]),_:2},1024))),256)):(i(),p("div",mt,[a("img",{src:m(v),class:"w-[200px] h-[200px] object-contain opacity-50"},null,8,ct),t[8]||(t[8]=a("p",{class:"text-gray-400 mt-4"},"暂无项目，快去创建一个吧！",-1))])),r(V,{ref_key:"coverImgViewRef",ref:g},null,512)]),a("div",dt,[r(S,{current:o.tableParams.page,"onUpdate:current":t[0]||(t[0]=e=>o.tableParams.page=e),"page-size":o.tableParams.pageSize,"onUpdate:pageSize":t[1]||(t[1]=e=>o.tableParams.pageSize=e),"show-size-changer":"",pageSizeOptions:["5","10","20","50"],total:o.tableParams.total,"show-total":e=>`共 ${e} 个项目`,onChange:j},null,8,["current","page-size","total","show-total"])]),r(A,{ref_key:"addProjModelRef",ref:f},null,512)])}}}),ue=tt(ut,[["__scopeId","data-v-52c4af5c"]]);export{ue as default};
