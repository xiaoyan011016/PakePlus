import{u as N}from"./useGetDictList-Ce8qcgxG.js";import{d as O,i as F,r as T,k as V,c as d,e as i,w as n,cC as W,n as p,f as r,a as e,p as m,h as M,F as f,D as c,q as P,g as v,x as _,I as g,cD as j}from"./index-BGwiQ_ZP.js";import{f as q}from"./file-B2ejoaTr.js";import{C as A}from"./index-O9UFCIBE.js";import{B as E}from"./index-_DVN_kvK.js";import{A as z}from"./index-COjFYpq0.js";import{I as G}from"./index-BwLVAfvf.js";import{_ as Y,R as H}from"./index-DQufTizB.js";import{S as J,a as K}from"./index-CKmLu0Sy.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DkgGzfF8.js";import"./_getTag-BRywsnft.js";import"./KeyCode-CYuXKwrG.js";import"./index-BjablQaC.js";import"./devWarning-MTSIIkhh.js";import"./index-DzzgRnZQ.js";import"./zoom-CXqzwkKe.js";import"./vnode-BaoCyZaz.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-D2RrGThV.js";import"./slide-NWV3xR2G.js";import"./index-Dn-jGRft.js";import"./Dropdown-C4JaQ-9X.js";import"./useState-DblkWJ1i.js";import"./hasIn-B69yjgv2.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-DA2nm7bB.js";import"./omit-HeMvMqzr.js";import"./isPlainObject-DJIrIqvg.js";import"./compact-item-CDNQQAbH.js";import"./useBreakpoint-CpQcD87b.js";import"./responsiveObserve-ChmocN4c.js";import"./eagerComputed-DIhAf9GU.js";import"./index-ENtatNUe.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./Checkbox-BZ1yw4ia.js";import"./index-CGXbiuUf.js";import"./pickAttrs-DQvtcfDv.js";import"./createRef-CUnV3TOs.js";import"./move-wLULaQ1Q.js";import"./List-163jSJPW.js";import"./useMemo-BMsKZuSN.js";const X={class:"w-full"},Z={class:"flex justify-between items-center mb-2"},$={class:"left"},tt={class:"right"},et={class:"sys-config"},ot={class:"item h-[100px]"},st={class:"ctx"},it={class:"row"},at={class:"item"},lt={class:"ctx"},nt={class:"item"},rt={class:"ctx"},dt={class:"item"},mt={class:"ctx"},ut={class:"item"},pt={class:"ctx"},ft={class:"item"},ct={class:"ctx"},vt={class:"row"},_t={class:"item"},gt={class:"ctx"},St={class:"item"},yt={class:"ctx"},wt={class:"row"},xt={class:"item",style:{"border-bottom":"none"}},bt={class:"ctx"},Ut={key:0,class:"item",style:{"border-bottom":"none"}},Ct={class:"ctx"},kt=O({name:"sysInfoSetting",__name:"index",setup(It){const u=F(),o=T({formState:{logo:"",title:"",viceTitle:"",viceDesc:"",watermark:"",copyright:"",icp:"",icpUrl:"",enableReg:void 0,regWayId:2},loading:!1,wayList:[],file:null}),S=a=>{const t=a.target.files[0];t&&(o.file=t,o.formState.logo=URL.createObjectURL(t))},y=()=>{var a;(a=u.value)==null||a.click()},w=async()=>{if(o.file&&(o.formState.logoFileName=o.file.name,o.formState.logoBase64=await q(o.file)),o.formState.enableReg==1&&!o.formState.regWayId){g("请选择注册方案","success");return}await j(o.formState),o.file=null,g("保存成功","success"),window.location.reload()},x=async()=>{o.loading=!0;const a=await W(),t=a.data.result;o.wayList=t.wayList??[],t.wayList=void 0,o.formState=a.data.result,o.loading=!1};return V(async()=>{await x()}),(a,t)=>{const b=p("SettingOutlined"),U=E,C=p("UserOutlined"),k=z,l=G,I=H,R=Y,h=K,B=J,L=A;return r(),d("div",X,[i(L,{class:"w-full",loading:o.loading},{default:n(()=>[e("header",Z,[e("div",$,[i(b),t[9]||(t[9]=e("span",null," 系统信息配置 ",-1))]),e("div",tt,[i(U,{type:"primary",onClick:w},{default:n(()=>t[10]||(t[10]=[m(" 保存 ")])),_:1})])]),e("div",et,[e("div",ot,[t[11]||(t[11]=e("div",{class:"title h-full"}," 系统图标 ",-1)),e("div",st,[e("input",{style:{display:"none"},ref_key:"fileRef",ref:u,type:"file",accept:"image/*",onChange:S},null,544),i(k,{style:{cursor:"pointer"},shape:"square",size:84,src:o.formState.logo,onClick:y},{icon:n(()=>[i(C)]),_:1},8,["src"])])]),e("div",it,[e("div",at,[t[12]||(t[12]=e("div",{class:"title h-full"}," 系统主标题 ",-1)),e("div",lt,[i(l,{value:o.formState.title,"onUpdate:value":t[0]||(t[0]=s=>o.formState.title=s)},null,8,["value"])])]),e("div",nt,[t[13]||(t[13]=e("div",{class:"title h-full"}," 系统副标题 ",-1)),e("div",rt,[i(l,{value:o.formState.viceTitle,"onUpdate:value":t[1]||(t[1]=s=>o.formState.viceTitle=s)},null,8,["value"])])])]),e("div",dt,[t[14]||(t[14]=e("div",{class:"title h-full"}," 系统描述 ",-1)),e("div",mt,[i(l,{value:o.formState.viceDesc,"onUpdate:value":t[2]||(t[2]=s=>o.formState.viceDesc=s)},null,8,["value"])])]),e("div",ut,[t[15]||(t[15]=e("div",{class:"title h-full"}," 水印内容 ",-1)),e("div",pt,[i(l,{value:o.formState.watermark,"onUpdate:value":t[3]||(t[3]=s=>o.formState.watermark=s)},null,8,["value"])])]),e("div",ft,[t[16]||(t[16]=e("div",{class:"title h-full"}," 版权说明： ",-1)),e("div",ct,[i(l,{value:o.formState.copyright,"onUpdate:value":t[4]||(t[4]=s=>o.formState.copyright=s)},null,8,["value"])])]),e("div",vt,[e("div",_t,[t[17]||(t[17]=e("div",{class:"title h-full"}," ICP备案号 ",-1)),e("div",gt,[i(l,{value:o.formState.icp,"onUpdate:value":t[5]||(t[5]=s=>o.formState.icp=s)},null,8,["value"])])]),e("div",St,[t[18]||(t[18]=e("div",{class:"title h-full"}," ICP地址 ",-1)),e("div",yt,[i(l,{value:o.formState.icpUrl,"onUpdate:value":t[6]||(t[6]=s=>o.formState.icpUrl=s)},null,8,["value"])])])]),e("div",wt,[e("div",xt,[t[19]||(t[19]=e("div",{class:"title h-full"}," 用户注册 ",-1)),e("div",bt,[i(R,{value:o.formState.enableReg,"onUpdate:value":t[7]||(t[7]=s=>o.formState.enableReg=s)},{default:n(()=>[(r(!0),d(f,null,c(P(N)("YesNoEnum"),s=>(r(),v(I,{key:s.value,value:+s.value},{default:n(()=>[m(_(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),o.formState.enableReg==1?(r(),d("div",Ut,[t[20]||(t[20]=e("div",{class:"title h-full"}," 注册方案 ",-1)),e("div",Ct,[i(B,{value:o.formState.regWayId,"onUpdate:value":t[8]||(t[8]=s=>o.formState.regWayId=s),class:"w-full"},{default:n(()=>[(r(!0),d(f,null,c(o.wayList,(s,D)=>(r(),v(h,{key:D,value:s.value},{default:n(()=>[m(_(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])])):M("",!0)])])]),_:1},8,["loading"])])}}}),_e=Q(kt,[["__scopeId","data-v-3bc74bf8"]]);export{_e as default};
