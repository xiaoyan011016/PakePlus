import{aw as q,b1 as G,d as X,aM as J,i as Q,a_ as Y,bd as Z,aG as ee,j,ar as oe,as as ne,e as i,av as T,bm as te,an as r,aV as I,aU as d,aS as ae,au as le,aK as se}from"./index-BGwiQ_ZP.js";import{_ as ie}from"./index-ENtatNUe.js";import{v as re,w as ce}from"./index-DzzgRnZQ.js";import{c as z,B as ue}from"./index-_DVN_kvK.js";import{u as pe}from"./useMergedState-DA2nm7bB.js";import{K as me}from"./KeyCode-CYuXKwrG.js";import{b as de}from"./vnode-BaoCyZaz.js";import{o as fe}from"./omit-HeMvMqzr.js";import{A as ve}from"./ActionButton-4KVVUbhX.js";const ge=o=>{const{componentCls:l,iconCls:t,zIndexPopup:a,colorText:s,colorWarning:y,marginXS:p,fontSize:c,fontWeightStrong:x,lineHeight:m}=o;return{[l]:{zIndex:a,[`${l}-inner-content`]:{color:s},[`${l}-message`]:{position:"relative",marginBottom:p,color:s,fontSize:c,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${l}-message-icon ${t}`]:{color:y,fontSize:c,flex:"none",lineHeight:1,paddingTop:(Math.round(c*m)-c)/2},"&-title":{flex:"auto",marginInlineStart:p},"&-title-only":{fontWeight:x}},[`${l}-description`]:{position:"relative",marginInlineStart:c+p,marginBottom:p,color:s,fontSize:c},[`${l}-buttons`]:{textAlign:"end",button:{marginInlineStart:p}}}}},Ce=q("Popconfirm",o=>ge(o),o=>{const{zIndexPopupBase:l}=o;return{zIndexPopup:l+60}});var ye=function(o,l){var t={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&l.indexOf(a)<0&&(t[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(o);s<a.length;s++)l.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(o,a[s])&&(t[a[s]]=o[a[s]]);return t};const xe=()=>r(r({},ce()),{prefixCls:String,content:d(),title:d(),description:d(),okType:ae("primary"),disabled:{type:Boolean,default:!1},okText:d(),cancelText:d(),icon:d(),okButtonProps:I(),cancelButtonProps:I(),showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function}),Pe=X({compatConfig:{MODE:3},name:"APopconfirm",inheritAttrs:!1,props:J(xe(),r(r({},re()),{trigger:"click",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:Object,setup(o,l){let{slots:t,emit:a,expose:s,attrs:y}=l;const p=Q();Y(o.visible===void 0),s({getPopupDomNode:()=>{var e,n;return(n=(e=p.value)===null||e===void 0?void 0:e.getPopupDomNode)===null||n===void 0?void 0:n.call(e)}});const[c,x]=pe(!1,{value:Z(o,"open")}),m=(e,n)=>{o.open===void 0&&x(e),a("update:open",e),a("openChange",e,n)},D=e=>{m(!1,e)},k=e=>{var n;return(n=o.onConfirm)===null||n===void 0?void 0:n.call(o,e)},A=e=>{var n;m(!1,e),(n=o.onCancel)===null||n===void 0||n.call(o,e)},E=e=>{e.keyCode===me.ESC&&c&&m(!1,e)},K=e=>{const{disabled:n}=o;n||m(e)},{prefixCls:u,getPrefixCls:O}=ee("popconfirm",o),R=j(()=>O()),V=j(()=>O("btn")),[F]=Ce(u),[S]=oe("Popconfirm",le.Popconfirm),L=()=>{var e,n,f,v,g;const{okButtonProps:C,cancelButtonProps:P,title:b=(e=t.title)===null||e===void 0?void 0:e.call(t),description:_=(n=t.description)===null||n===void 0?void 0:n.call(t),cancelText:M=(f=t.cancel)===null||f===void 0?void 0:f.call(t),okText:W=(v=t.okText)===null||v===void 0?void 0:v.call(t),okType:h,icon:w=((g=t.icon)===null||g===void 0?void 0:g.call(t))||i(se,null,null),showCancel:H=!0}=o,{cancelButton:B,okButton:N}=t,$=r({onClick:A,size:"small"},P),U=r(r(r({onClick:k},z(h)),{size:"small"}),C);return i("div",{class:`${u.value}-inner-content`},[i("div",{class:`${u.value}-message`},[w&&i("span",{class:`${u.value}-message-icon`},[w]),i("div",{class:[`${u.value}-message-title`,{[`${u.value}-message-title-only`]:!!_}]},[b])]),_&&i("div",{class:`${u.value}-description`},[_]),i("div",{class:`${u.value}-buttons`},[H?B?B($):i(ue,$,{default:()=>[M||S.value.cancelText]}):null,N?N(U):i(ve,{buttonProps:r(r({size:"small"},z(h)),C),actionFn:k,close:D,prefixCls:V.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:()=>[W||S.value.okText]})])])};return()=>{var e;const{placement:n,overlayClassName:f,trigger:v="click"}=o,g=ye(o,["placement","overlayClassName","trigger"]),C=fe(g,["title","content","cancelText","okText","onUpdate:open","onConfirm","onCancel","prefixCls"]),P=ne(u.value,f);return F(i(ie,T(T(T({},C),y),{},{trigger:v,placement:n,onOpenChange:K,open:c.value,overlayClassName:P,transitionName:te(R.value,"zoom-big",o.transitionName),ref:p,"data-popover-inject":!0}),{default:()=>[de(((e=t.default)===null||e===void 0?void 0:e.call(t))||[],{onKeydown:b=>{E(b)}},!1)],content:L}))}}}),Ne=G(Pe);export{Ne as _};
