import{u as D}from"./dataview-q4Jj-tHZ.js";import{d as V,s as j,r as k,l as P,c as y,h as B,e as s,w as i,f as C,a as o,x as p,p as l,q as U,I as N}from"./index-BGwiQ_ZP.js";import{M as S}from"./index-Dpm5AXGB.js";import{B as M}from"./index-_DVN_kvK.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./project-BHkV2mwb.js";import"./lodash-buJ1Dk2D.js";import"./index-CV9vVqBq.js";import"./index-D6J3dazT.js";import"./image-404-CYQSRSGu.js";import"./config-C6dLhLlW.js";import"./index-BJkTEgjb.js";import"./KeyCode-CYuXKwrG.js";import"./omit-HeMvMqzr.js";import"./pickAttrs-DQvtcfDv.js";import"./zoom-CXqzwkKe.js";import"./_getTag-BRywsnft.js";import"./styleChecker-DfAMPleG.js";import"./ActionButton-4KVVUbhX.js";import"./vnode-BaoCyZaz.js";import"./useState-DblkWJ1i.js";import"./devWarning-MTSIIkhh.js";import"./compact-item-CDNQQAbH.js";const T={key:0},I={class:"publish-dialog"},R={class:"publish-container flex items-center"},q={class:"left h-full flex flex-col justify-center flex-1"},E={class:"right flex flex-col items-center h-full ml-5 justify-around"},$=V({__name:"publishDialog",emits:["updateDataViewProject"],setup(z,{expose:c,emit:m}){const a=m,d=window.location.origin,u=P(),f=D(),{dataviewState:r}=j(f),t=k({open:!1,previewUrl:d+`/chart/preview/${u.params.id}`}),_=()=>{t.open=!1},h=()=>{_()},w=()=>{t.open=!0},v=()=>{navigator.clipboard.writeText(t.previewUrl).then(()=>{N("复制成功","success")})},x=()=>{r.value.projDetail.isPublish===1?a("updateDataViewProject",{isPublish:2}):a("updateDataViewProject",{isPublish:1})};return c({handleOpen:w}),(A,e)=>{const n=M,b=S;return t.open?(C(),y("div",T,[s(b,{open:t.open,"onUpdate:open":e[0]||(e[0]=g=>t.open=g),title:"发布管理",onOk:h},{default:i(()=>[o("div",I,[o("div",R,[o("div",q,[e[1]||(e[1]=o("span",{class:"text-gray-500"},"大屏地址：",-1)),o("span",null,p(t.previewUrl),1)]),o("div",E,[s(n,{onClick:v},{default:i(()=>e[2]||(e[2]=[l(" 复制地址 ")])),_:1}),s(n,{onClick:x},{default:i(()=>[l(p(U(r).projDetail.isPublish===1?"取消发布":"发布大屏"),1)]),_:1})])])])]),_:1},8,["open"])])):B("",!0)}}}),dt=O($,[["__scopeId","data-v-f1ea9332"]]);export{dt as default};
