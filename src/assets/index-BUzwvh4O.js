import{d as Ee,aq as Tt,j as b,a9 as Pt,a8 as B,e as w,aF as Ke,an as x,r as It,ab as vn,o as _t,b7 as At,av as q,as as ue,a1 as fe,ad as fn,T as yn,aB as hn,aC as gn,ae as ft,i as ve,F as pn,aM as yt,ac as Oe,O as bn,a6 as pt,aI as Kn,c8 as Lt,c9 as mn,ca as xn,cb as kn,ap as Sn,ao as Cn,aw as wn,ax as En,ay as Dn,bu as Nn,bw as bt,aG as Ft,aE as dt,aQ as je,aR as re,aV as $n,bJ as Ne,aT as st,cc as On,cd as Tn}from"./index-BGwiQ_ZP.js";import{g as Re,f as He,h as Mt,i as Bt,u as Pn,b as pe,j as In,k as Kt,d as ke,p as _n,a as nt,l as rt,c as jt,m as ct,n as An,o as mt,q as ot,r as Ln}from"./index-BRrv4Ip6.js";import{L as Fn}from"./List-163jSJPW.js";import{o as Rt}from"./omit-HeMvMqzr.js";import{w as Ht,d as Mn}from"./devWarning-MTSIIkhh.js";import{p as Ut}from"./pickAttrs-DQvtcfDv.js";import{e as ce}from"./eagerComputed-DIhAf9GU.js";import{c as Bn,g as jn}from"./collapseMotion-D2RrGThV.js";import{K as $e}from"./KeyCode-CYuXKwrG.js";import{d as Rn}from"./debounce-BUZtn0sP.js";const Vt=Symbol("TreeContextKey"),Hn=Ee({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,o){let{slots:n}=o;return Tt(Vt,b(()=>e.value)),()=>{var t;return(t=n.default)===null||t===void 0?void 0:t.call(n)}}}),ht=()=>Pt(Vt,b(()=>({}))),Wt=Symbol("KeysStateKey"),Un=e=>{Tt(Wt,e)},zt=()=>Pt(Wt,{expandedKeys:B([]),selectedKeys:B([]),loadedKeys:B([]),loadingKeys:B([]),checkedKeys:B([]),halfCheckedKeys:B([]),expandedKeysSet:b(()=>new Set),selectedKeysSet:b(()=>new Set),loadedKeysSet:b(()=>new Set),loadingKeysSet:b(()=>new Set),checkedKeysSet:b(()=>new Set),halfCheckedKeysSet:b(()=>new Set),flattenNodes:B([])}),Vn=e=>{let{prefixCls:o,level:n,isStart:t,isEnd:a}=e;const f=`${o}-indent-unit`,s=[];for(let p=0;p<n;p+=1)s.push(w("span",{key:p,class:{[f]:!0,[`${f}-start`]:t[p],[`${f}-end`]:a[p]}},null));return w("span",{"aria-hidden":"true",class:`${o}-indent`},[s])},Gt={eventKey:[String,Number],prefixCls:String,title:Ke.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Ke.any,switcherIcon:Ke.any,domRef:{type:Function}},Wn={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Xt=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Ke.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Ke.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Ke.any,switcherIcon:Ke.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var zn=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const xt="open",kt="close",Gn="---",ut=Ee({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Gt,isTreeNode:1,setup(e,o){let{attrs:n,slots:t,expose:a}=o;Ht(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(l=>"`v-slot:"+l+"` ")}instead`);const f=B(!1),s=ht(),{expandedKeysSet:p,selectedKeysSet:C,loadedKeysSet:k,loadingKeysSet:N,checkedKeysSet:K,halfCheckedKeysSet:V}=zt(),{dragOverNodeKey:L,dropPosition:X,keyEntities:h}=s.value,v=b(()=>Re(e.eventKey,{expandedKeysSet:p.value,selectedKeysSet:C.value,loadedKeysSet:k.value,loadingKeysSet:N.value,checkedKeysSet:K.value,halfCheckedKeysSet:V.value,dragOverNodeKey:L,dropPosition:X,keyEntities:h})),S=ce(()=>v.value.expanded),U=ce(()=>v.value.selected),M=ce(()=>v.value.checked),G=ce(()=>v.value.loaded),j=ce(()=>v.value.loading),Y=ce(()=>v.value.halfChecked),J=ce(()=>v.value.dragOver),H=ce(()=>v.value.dragOverGapTop),u=ce(()=>v.value.dragOverGapBottom),E=ce(()=>v.value.pos),_=B(),Q=b(()=>{const{eventKey:l}=e,{keyEntities:r}=s.value,{children:I}=r[l]||{};return!!(I||[]).length}),R=b(()=>{const{isLeaf:l}=e,{loadData:r}=s.value,I=Q.value;return l===!1?!1:l||!r&&!I||r&&G.value&&!I}),oe=b(()=>R.value?null:S.value?xt:kt),te=b(()=>{const{disabled:l}=e,{disabled:r}=s.value;return!!(r||l)}),me=b(()=>{const{checkable:l}=e,{checkable:r}=s.value;return!r||l===!1?!1:r}),ie=b(()=>{const{selectable:l}=e,{selectable:r}=s.value;return typeof l=="boolean"?l:r}),P=b(()=>{const{data:l,active:r,checkable:I,disableCheckbox:z,disabled:Z,selectable:ee}=e;return x(x({active:r,checkable:I,disableCheckbox:z,disabled:Z,selectable:ee},l),{dataRef:l,data:l,isLeaf:R.value,checked:M.value,expanded:S.value,loading:j.value,selected:U.value,halfChecked:Y.value})}),ye=vn(),W=b(()=>{const{eventKey:l}=e,{keyEntities:r}=s.value,{parent:I}=r[l]||{};return x(x({},He(x({},e,v.value))),{parent:I})}),ne=It({eventData:W,eventKey:b(()=>e.eventKey),selectHandle:_,pos:E,key:ye.vnode.key});a(ne);const de=l=>{const{onNodeDoubleClick:r}=s.value;r(l,W.value)},he=l=>{if(te.value)return;const{onNodeSelect:r}=s.value;l.preventDefault(),r(l,W.value)},Se=l=>{if(te.value)return;const{disableCheckbox:r}=e,{onNodeCheck:I}=s.value;if(!me.value||r)return;l.preventDefault();const z=!M.value;I(l,W.value,z)},De=l=>{const{onNodeClick:r}=s.value;r(l,W.value),ie.value?he(l):Se(l)},Te=l=>{const{onNodeMouseEnter:r}=s.value;r(l,W.value)},Ve=l=>{const{onNodeMouseLeave:r}=s.value;r(l,W.value)},We=l=>{const{onNodeContextMenu:r}=s.value;r(l,W.value)},ze=l=>{const{onNodeDragStart:r}=s.value;l.stopPropagation(),f.value=!0,r(l,ne);try{l.dataTransfer.setData("text/plain","")}catch{}},Ge=l=>{const{onNodeDragEnter:r}=s.value;l.preventDefault(),l.stopPropagation(),r(l,ne)},Xe=l=>{const{onNodeDragOver:r}=s.value;l.preventDefault(),l.stopPropagation(),r(l,ne)},_e=l=>{const{onNodeDragLeave:r}=s.value;l.stopPropagation(),r(l,ne)},qe=l=>{const{onNodeDragEnd:r}=s.value;l.stopPropagation(),f.value=!1,r(l,ne)},Ye=l=>{const{onNodeDrop:r}=s.value;l.preventDefault(),l.stopPropagation(),f.value=!1,r(l,ne)},Ae=l=>{const{onNodeExpand:r}=s.value;j.value||r(l,W.value)},Le=()=>{const{data:l}=e,{draggable:r}=s.value;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(l)))},Fe=()=>{const{draggable:l,prefixCls:r}=s.value;return l&&(l!=null&&l.icon)?w("span",{class:`${r}-draggable-icon`},[l.icon]):null},Je=()=>{var l,r,I;const{switcherIcon:z=t.switcherIcon||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(r=e.data)===null||r===void 0?void 0:r.slots)===null||I===void 0?void 0:I.switcherIcon])}=e,{switcherIcon:Z}=s.value,ee=z||Z;return typeof ee=="function"?ee(P.value):ee},Me=()=>{const{loadData:l,onNodeLoad:r}=s.value;j.value||l&&S.value&&!R.value&&!Q.value&&!G.value&&r(W.value)};_t(()=>{Me()}),At(()=>{Me()});const Qe=()=>{const{prefixCls:l}=s.value,r=Je();if(R.value)return r!==!1?w("span",{class:ue(`${l}-switcher`,`${l}-switcher-noop`)},[r]):null;const I=ue(`${l}-switcher`,`${l}-switcher_${S.value?xt:kt}`);return r!==!1?w("span",{onClick:Ae,class:I},[r]):null},Ze=()=>{var l,r;const{disableCheckbox:I}=e,{prefixCls:z}=s.value,Z=te.value;return me.value?w("span",{class:ue(`${z}-checkbox`,M.value&&`${z}-checkbox-checked`,!M.value&&Y.value&&`${z}-checkbox-indeterminate`,(Z||I)&&`${z}-checkbox-disabled`),onClick:Se},[(r=(l=s.value).customCheckable)===null||r===void 0?void 0:r.call(l)]):null},Be=()=>{const{prefixCls:l}=s.value;return w("span",{class:ue(`${l}-iconEle`,`${l}-icon__${oe.value||"docu"}`,j.value&&`${l}-icon_loading`)},null)},Ce=()=>{const{disabled:l,eventKey:r}=e,{draggable:I,dropLevelOffset:z,dropPosition:Z,prefixCls:ee,indent:i,dropIndicatorRender:d,dragOverNodeKey:c,direction:g}=s.value;return!l&&I!==!1&&c===r?d({dropPosition:Z,dropLevelOffset:z,indent:i,prefixCls:ee,direction:g}):null},et=()=>{var l,r,I,z,Z,ee;const{icon:i=t.icon,data:d}=e,c=t.title||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(r=e.data)===null||r===void 0?void 0:r.slots)===null||I===void 0?void 0:I.title])||((z=s.value.slots)===null||z===void 0?void 0:z.title)||e.title,{prefixCls:g,showIcon:D,icon:m,loadData:y}=s.value,O=te.value,F=`${g}-node-content-wrapper`;let $;if(D){const ae=i||((Z=s.value.slots)===null||Z===void 0?void 0:Z[(ee=d==null?void 0:d.slots)===null||ee===void 0?void 0:ee.icon])||m;$=ae?w("span",{class:ue(`${g}-iconEle`,`${g}-icon__customize`)},[typeof ae=="function"?ae(P.value):ae]):Be()}else y&&j.value&&($=Be());let T;typeof c=="function"?T=c(P.value):T=c,T=T===void 0?Gn:T;const A=w("span",{class:`${g}-title`},[T]);return w("span",{ref:_,title:typeof c=="string"?c:"",class:ue(`${F}`,`${F}-${oe.value||"normal"}`,!O&&(U.value||f.value)&&`${g}-node-selected`),onMouseenter:Te,onMouseleave:Ve,onContextmenu:We,onClick:De,onDblclick:de},[$,A,Ce()])};return()=>{const l=x(x({},e),n),{eventKey:r,isLeaf:I,isStart:z,isEnd:Z,domRef:ee,active:i,data:d,onMousemove:c,selectable:g}=l,D=zn(l,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:m,filterTreeNode:y,keyEntities:O,dropContainerKey:F,dropTargetKey:$,draggingNodeKey:T}=s.value,A=te.value,ae=Ut(D,{aria:!0,data:!0}),{level:ge}=O[r]||{},se=Z[Z.length-1],le=Le(),xe=!A&&le,Pe=T===r,tt=g!==void 0?{"aria-selected":!!g}:void 0;return w("div",q(q({ref:ee,class:ue(n.class,`${m}-treenode`,{[`${m}-treenode-disabled`]:A,[`${m}-treenode-switcher-${S.value?"open":"close"}`]:!I,[`${m}-treenode-checkbox-checked`]:M.value,[`${m}-treenode-checkbox-indeterminate`]:Y.value,[`${m}-treenode-selected`]:U.value,[`${m}-treenode-loading`]:j.value,[`${m}-treenode-active`]:i,[`${m}-treenode-leaf-last`]:se,[`${m}-treenode-draggable`]:xe,dragging:Pe,"drop-target":$===r,"drop-container":F===r,"drag-over":!A&&J.value,"drag-over-gap-top":!A&&H.value,"drag-over-gap-bottom":!A&&u.value,"filter-node":y&&y(W.value)}),style:n.style,draggable:xe,"aria-grabbed":Pe,onDragstart:xe?ze:void 0,onDragenter:le?Ge:void 0,onDragover:le?Xe:void 0,onDragleave:le?_e:void 0,onDrop:le?Ye:void 0,onDragend:le?qe:void 0,onMousemove:c},tt),ae),[w(Vn,{prefixCls:m,level:ge,isStart:z,isEnd:Z},null),Fe(),Qe(),Ze(),et()])}}});var St=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const Xn=Ee({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:x(x({},Gt),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,o){let{attrs:n,slots:t}=o;const a=B(!0),f=ht(),s=B(!1),p=b(()=>e.motion?e.motion:Bn()),C=(k,N)=>{var K,V,L,X;N==="appear"?(V=(K=p.value)===null||K===void 0?void 0:K.onAfterEnter)===null||V===void 0||V.call(K,k):N==="leave"&&((X=(L=p.value)===null||L===void 0?void 0:L.onAfterLeave)===null||X===void 0||X.call(L,k)),s.value||e.onMotionEnd(),s.value=!0};return fe(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&ft(()=>{a.value=!1})},{immediate:!0,flush:"post"}),_t(()=>{e.motionNodes&&e.onMotionStart()}),fn(()=>{e.motionNodes&&C()}),()=>{const{motion:k,motionNodes:N,motionType:K,active:V,eventKey:L}=e,X=St(e,["motion","motionNodes","motionType","active","eventKey"]);return N?w(yn,q(q({},p.value),{},{appear:K==="show",onAfterAppear:h=>C(h,"appear"),onAfterLeave:h=>C(h,"leave")}),{default:()=>[hn(w("div",{class:`${f.value.prefixCls}-treenode-motion`},[N.map(h=>{const v=St(h.data,[]),{title:S,key:U,isStart:M,isEnd:G}=h;return delete v.children,w(ut,q(q({},v),{},{title:S,active:V,data:h.data,key:U,eventKey:U,isStart:M,isEnd:G}),t)})]),[[gn,a.value]])]}):w(ut,q(q({class:n.class,style:n.style},X),{},{active:V,eventKey:L}),t)}}});function qn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,t=o.length;if(Math.abs(n-t)!==1)return{add:!1,key:null};function a(f,s){const p=new Map;f.forEach(k=>{p.set(k,!0)});const C=s.filter(k=>!p.has(k));return C.length===1?C[0]:null}return n<t?{add:!0,key:a(e,o)}:{add:!1,key:a(o,e)}}function Ct(e,o,n){const t=e.findIndex(s=>s.key===n),a=e[t+1],f=o.findIndex(s=>s.key===n);if(a){const s=o.findIndex(p=>p.key===a.key);return o.slice(f+1,s)}return o.slice(f+1)}var wt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const Et={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Yn=()=>{},we=`RC_TREE_MOTION_${Math.random()}`,vt={key:we},qt={key:we,level:0,index:0,pos:"0",node:vt,nodes:[vt]},Dt={parent:null,children:[],pos:qt.pos,data:vt,title:null,key:we,isStart:[],isEnd:[]};function Nt(e,o,n,t){return o===!1||!n?e:e.slice(0,Math.ceil(n/t)+1)}function $t(e){const{key:o,pos:n}=e;return Mt(o,n)}function Jn(e){let o=String(e.key),n=e;for(;n.parent;)n=n.parent,o=`${n.key} > ${o}`;return o}const Qn=Ee({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Wn,setup(e,o){let{expose:n,attrs:t}=o;const a=ve(),f=ve(),{expandedKeys:s,flattenNodes:p}=zt();n({scrollTo:h=>{a.value.scrollTo(h)},getIndentWidth:()=>f.value.offsetWidth});const C=B(p.value),k=B([]),N=ve(null);function K(){C.value=p.value,k.value=[],N.value=null,e.onListChangeEnd()}const V=ht();fe([()=>s.value.slice(),p],(h,v)=>{let[S,U]=h,[M,G]=v;const j=qn(M,S);if(j.key!==null){const{virtual:Y,height:J,itemHeight:H}=e;if(j.add){const u=G.findIndex(Q=>{let{key:R}=Q;return R===j.key}),E=Nt(Ct(G,U,j.key),Y,J,H),_=G.slice();_.splice(u+1,0,Dt),C.value=_,k.value=E,N.value="show"}else{const u=U.findIndex(Q=>{let{key:R}=Q;return R===j.key}),E=Nt(Ct(U,G,j.key),Y,J,H),_=U.slice();_.splice(u+1,0,Dt),C.value=_,k.value=E,N.value="hide"}}else G!==U&&(C.value=U)}),fe(()=>V.value.dragging,h=>{h||K()});const L=b(()=>e.motion===void 0?C.value:p.value),X=()=>{e.onActiveChange(null)};return()=>{const h=x(x({},e),t),{prefixCls:v,selectable:S,checkable:U,disabled:M,motion:G,height:j,itemHeight:Y,virtual:J,focusable:H,activeItem:u,focused:E,tabindex:_,onKeydown:Q,onFocus:R,onBlur:oe,onListChangeStart:te,onListChangeEnd:me}=h,ie=wt(h,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return w(pn,null,[E&&u&&w("span",{style:Et,"aria-live":"assertive"},[Jn(u)]),w("div",null,[w("input",{style:Et,disabled:H===!1||M,tabindex:H!==!1?_:null,onKeydown:Q,onFocus:R,onBlur:oe,value:"",onChange:Yn,"aria-label":"for screen reader"},null)]),w("div",{class:`${v}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[w("div",{class:`${v}-indent`},[w("div",{ref:f,class:`${v}-indent-unit`},null)])]),w(Fn,q(q({},Rt(ie,["onActiveChange"])),{},{data:L.value,itemKey:$t,height:j,fullHeight:!1,virtual:J,itemHeight:Y,prefixCls:`${v}-list`,ref:a,onVisibleChange:(P,ye)=>{const W=new Set(P);ye.filter(de=>!W.has(de)).some(de=>$t(de)===we)&&K()}}),{default:P=>{const{pos:ye}=P,W=wt(P.data,[]),{title:ne,key:de,isStart:he,isEnd:Se}=P,De=Mt(de,ye);return delete W.key,delete W.children,w(Xn,q(q({},W),{},{eventKey:De,title:ne,active:!!u&&de===u.key,data:P.data,isStart:he,isEnd:Se,motion:G,motionNodes:de===we?k.value:null,motionType:N.value,onMotionStart:te,onMotionEnd:K,onMousemove:X}),null)}})])}}});function Zn(e){let{dropPosition:o,dropLevelOffset:n,indent:t}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(o){case-1:a.top=0,a.left=`${-n*t}px`;break;case 1:a.bottom=0,a.left=`${-n*t}px`;break;case 0:a.bottom=0,a.left=`${t}`;break}return w("div",{style:a},null)}const eo=10,to=Ee({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:yt(Xt(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Zn,allowDrop:()=>!0}),setup(e,o){let{attrs:n,slots:t,expose:a}=o;const f=B(!1);let s={};const p=B(),C=B([]),k=B([]),N=B([]),K=B([]),V=B([]),L=B([]),X={},h=It({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),v=B([]);fe([()=>e.treeData,()=>e.children],()=>{v.value=e.treeData!==void 0?e.treeData.slice():rt(pt(e.children))},{immediate:!0,deep:!0});const S=B({}),U=B(!1),M=B(null),G=B(!1),j=b(()=>Bt(e.fieldNames)),Y=B();let J=null,H=null,u=null;const E=b(()=>({expandedKeysSet:_.value,selectedKeysSet:Q.value,loadedKeysSet:R.value,loadingKeysSet:oe.value,checkedKeysSet:te.value,halfCheckedKeysSet:me.value,dragOverNodeKey:h.dragOverNodeKey,dropPosition:h.dropPosition,keyEntities:S.value})),_=b(()=>new Set(L.value)),Q=b(()=>new Set(C.value)),R=b(()=>new Set(K.value)),oe=b(()=>new Set(V.value)),te=b(()=>new Set(k.value)),me=b(()=>new Set(N.value));Oe(()=>{if(v.value){const i=jt(v.value,{fieldNames:j.value});S.value=x({[we]:qt},i.keyEntities)}});let ie=!1;fe([()=>e.expandedKeys,()=>e.autoExpandParent,S],(i,d)=>{let[c,g]=i,[D,m]=d,y=L.value;if(e.expandedKeys!==void 0||ie&&g!==m)y=e.autoExpandParent||!ie&&e.defaultExpandParent?ct(e.expandedKeys,S.value):e.expandedKeys;else if(!ie&&e.defaultExpandAll){const O=x({},S.value);delete O[we],y=Object.keys(O).map(F=>O[F].key)}else!ie&&e.defaultExpandedKeys&&(y=e.autoExpandParent||e.defaultExpandParent?ct(e.defaultExpandedKeys,S.value):e.defaultExpandedKeys);y&&(L.value=y),ie=!0},{immediate:!0});const P=B([]);Oe(()=>{P.value=An(v.value,L.value,j.value)}),Oe(()=>{e.selectable&&(e.selectedKeys!==void 0?C.value=mt(e.selectedKeys,e):!ie&&e.defaultSelectedKeys&&(C.value=mt(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:W}=Pn(S);Oe(()=>{if(e.checkable){let i;if(e.checkedKeys!==void 0?i=ot(e.checkedKeys)||{}:!ie&&e.defaultCheckedKeys?i=ot(e.defaultCheckedKeys)||{}:v.value&&(i=ot(e.checkedKeys)||{checkedKeys:k.value,halfCheckedKeys:N.value}),i){let{checkedKeys:d=[],halfCheckedKeys:c=[]}=i;e.checkStrictly||({checkedKeys:d,halfCheckedKeys:c}=nt(d,!0,S.value,ye.value,W.value)),k.value=d,N.value=c}}}),Oe(()=>{e.loadedKeys&&(K.value=e.loadedKeys)});const ne=()=>{x(h,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},de=i=>{Y.value.scrollTo(i)};fe(()=>e.activeKey,()=>{e.activeKey!==void 0&&(M.value=e.activeKey)},{immediate:!0}),fe(M,i=>{ft(()=>{i!==null&&de({key:i})})},{immediate:!0,flush:"post"});const he=i=>{e.expandedKeys===void 0&&(L.value=i)},Se=()=>{h.draggingNodeKey!==null&&x(h,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),J=null,u=null},De=(i,d)=>{const{onDragend:c}=e;h.dragOverNodeKey=null,Se(),c==null||c({event:i,node:d.eventData}),H=null},Te=i=>{De(i,null),window.removeEventListener("dragend",Te)},Ve=(i,d)=>{const{onDragstart:c}=e,{eventKey:g,eventData:D}=d;H=d,J={x:i.clientX,y:i.clientY};const m=pe(L.value,g);h.draggingNodeKey=g,h.dragChildrenKeys=In(g,S.value),p.value=Y.value.getIndentWidth(),he(m),window.addEventListener("dragend",Te),c&&c({event:i,node:D})},We=(i,d)=>{const{onDragenter:c,onExpand:g,allowDrop:D,direction:m}=e,{pos:y,eventKey:O}=d;if(u!==O&&(u=O),!H){ne();return}const{dropPosition:F,dropLevelOffset:$,dropTargetKey:T,dropContainerKey:A,dropTargetPos:ae,dropAllowed:ge,dragOverNodeKey:se}=Kt(i,H,d,p.value,J,D,P.value,S.value,_.value,m);if(h.dragChildrenKeys.indexOf(T)!==-1||!ge){ne();return}if(s||(s={}),Object.keys(s).forEach(le=>{clearTimeout(s[le])}),H.eventKey!==d.eventKey&&(s[y]=window.setTimeout(()=>{if(h.draggingNodeKey===null)return;let le=L.value.slice();const xe=S.value[d.eventKey];xe&&(xe.children||[]).length&&(le=ke(L.value,d.eventKey)),he(le),g&&g(le,{node:d.eventData,expanded:!0,nativeEvent:i})},800)),H.eventKey===T&&$===0){ne();return}x(h,{dragOverNodeKey:se,dropPosition:F,dropLevelOffset:$,dropTargetKey:T,dropContainerKey:A,dropTargetPos:ae,dropAllowed:ge}),c&&c({event:i,node:d.eventData,expandedKeys:L.value})},ze=(i,d)=>{const{onDragover:c,allowDrop:g,direction:D}=e;if(!H)return;const{dropPosition:m,dropLevelOffset:y,dropTargetKey:O,dropContainerKey:F,dropAllowed:$,dropTargetPos:T,dragOverNodeKey:A}=Kt(i,H,d,p.value,J,g,P.value,S.value,_.value,D);h.dragChildrenKeys.indexOf(O)!==-1||!$||(H.eventKey===O&&y===0?h.dropPosition===null&&h.dropLevelOffset===null&&h.dropTargetKey===null&&h.dropContainerKey===null&&h.dropTargetPos===null&&h.dropAllowed===!1&&h.dragOverNodeKey===null||ne():m===h.dropPosition&&y===h.dropLevelOffset&&O===h.dropTargetKey&&F===h.dropContainerKey&&T===h.dropTargetPos&&$===h.dropAllowed&&A===h.dragOverNodeKey||x(h,{dropPosition:m,dropLevelOffset:y,dropTargetKey:O,dropContainerKey:F,dropTargetPos:T,dropAllowed:$,dragOverNodeKey:A}),c&&c({event:i,node:d.eventData}))},Ge=(i,d)=>{u===d.eventKey&&!i.currentTarget.contains(i.relatedTarget)&&(ne(),u=null);const{onDragleave:c}=e;c&&c({event:i,node:d.eventData})},Xe=function(i,d){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var g;const{dragChildrenKeys:D,dropPosition:m,dropTargetKey:y,dropTargetPos:O,dropAllowed:F}=h;if(!F)return;const{onDrop:$}=e;if(h.dragOverNodeKey=null,Se(),y===null)return;const T=x(x({},Re(y,pt(E.value))),{active:((g=I.value)===null||g===void 0?void 0:g.key)===y,data:S.value[y].node});D.indexOf(y);const A=_n(O),ae={event:i,node:He(T),dragNode:H?H.eventData:null,dragNodesKeys:[H.eventKey].concat(D),dropToGap:m!==0,dropPosition:m+Number(A[A.length-1])};c||$==null||$(ae),H=null},_e=(i,d)=>{const{expanded:c,key:g}=d,D=P.value.filter(y=>y.key===g)[0],m=He(x(x({},Re(g,E.value)),{data:D.data}));he(c?pe(L.value,g):ke(L.value,g)),Ce(i,m)},qe=(i,d)=>{const{onClick:c,expandAction:g}=e;g==="click"&&_e(i,d),c&&c(i,d)},Ye=(i,d)=>{const{onDblclick:c,expandAction:g}=e;(g==="doubleclick"||g==="dblclick")&&_e(i,d),c&&c(i,d)},Ae=(i,d)=>{let c=C.value;const{onSelect:g,multiple:D}=e,{selected:m}=d,y=d[j.value.key],O=!m;O?D?c=ke(c,y):c=[y]:c=pe(c,y);const F=S.value,$=c.map(T=>{const A=F[T];return A?A.node:null}).filter(T=>T);e.selectedKeys===void 0&&(C.value=c),g&&g(c,{event:"select",selected:O,node:d,selectedNodes:$,nativeEvent:i})},Le=(i,d,c)=>{const{checkStrictly:g,onCheck:D}=e,m=d[j.value.key];let y;const O={event:"check",node:d,checked:c,nativeEvent:i},F=S.value;if(g){const $=c?ke(k.value,m):pe(k.value,m),T=pe(N.value,m);y={checked:$,halfChecked:T},O.checkedNodes=$.map(A=>F[A]).filter(A=>A).map(A=>A.node),e.checkedKeys===void 0&&(k.value=$)}else{let{checkedKeys:$,halfCheckedKeys:T}=nt([...k.value,m],!0,F,ye.value,W.value);if(!c){const A=new Set($);A.delete(m),{checkedKeys:$,halfCheckedKeys:T}=nt(Array.from(A),{halfCheckedKeys:T},F,ye.value,W.value)}y=$,O.checkedNodes=[],O.checkedNodesPositions=[],O.halfCheckedKeys=T,$.forEach(A=>{const ae=F[A];if(!ae)return;const{node:ge,pos:se}=ae;O.checkedNodes.push(ge),O.checkedNodesPositions.push({node:ge,pos:se})}),e.checkedKeys===void 0&&(k.value=$,N.value=T)}D&&D(y,O)},Fe=i=>{const d=i[j.value.key],c=new Promise((g,D)=>{const{loadData:m,onLoad:y}=e;if(!m||R.value.has(d)||oe.value.has(d))return null;m(i).then(()=>{const F=ke(K.value,d),$=pe(V.value,d);y&&y(F,{event:"load",node:i}),e.loadedKeys===void 0&&(K.value=F),V.value=$,g()}).catch(F=>{const $=pe(V.value,d);if(V.value=$,X[d]=(X[d]||0)+1,X[d]>=eo){const T=ke(K.value,d);e.loadedKeys===void 0&&(K.value=T),g()}D(F)}),V.value=ke(V.value,d)});return c.catch(()=>{}),c},Je=(i,d)=>{const{onMouseenter:c}=e;c&&c({event:i,node:d})},Me=(i,d)=>{const{onMouseleave:c}=e;c&&c({event:i,node:d})},Qe=(i,d)=>{const{onRightClick:c}=e;c&&(i.preventDefault(),c({event:i,node:d}))},Ze=i=>{const{onFocus:d}=e;U.value=!0,d&&d(i)},Be=i=>{const{onBlur:d}=e;U.value=!1,r(null),d&&d(i)},Ce=(i,d)=>{let c=L.value;const{onExpand:g,loadData:D}=e,{expanded:m}=d,y=d[j.value.key];if(G.value)return;c.indexOf(y);const O=!m;if(O?c=ke(c,y):c=pe(c,y),he(c),g&&g(c,{node:d,expanded:O,nativeEvent:i}),O&&D){const F=Fe(d);F&&F.then(()=>{}).catch($=>{const T=pe(L.value,y);he(T),Promise.reject($)})}},et=()=>{G.value=!0},l=()=>{setTimeout(()=>{G.value=!1})},r=i=>{const{onActiveChange:d}=e;M.value!==i&&(e.activeKey!==void 0&&(M.value=i),i!==null&&de({key:i}),d&&d(i))},I=b(()=>M.value===null?null:P.value.find(i=>{let{key:d}=i;return d===M.value})||null),z=i=>{let d=P.value.findIndex(g=>{let{key:D}=g;return D===M.value});d===-1&&i<0&&(d=P.value.length),d=(d+i+P.value.length)%P.value.length;const c=P.value[d];if(c){const{key:g}=c;r(g)}else r(null)},Z=b(()=>He(x(x({},Re(M.value,E.value)),{data:I.value.data,active:!0}))),ee=i=>{const{onKeydown:d,checkable:c,selectable:g}=e;switch(i.which){case $e.UP:{z(-1),i.preventDefault();break}case $e.DOWN:{z(1),i.preventDefault();break}}const D=I.value;if(D&&D.data){const m=D.data.isLeaf===!1||!!(D.data.children||[]).length,y=Z.value;switch(i.which){case $e.LEFT:{m&&_.value.has(M.value)?Ce({},y):D.parent&&r(D.parent.key),i.preventDefault();break}case $e.RIGHT:{m&&!_.value.has(M.value)?Ce({},y):D.children&&D.children.length&&r(D.children[0].key),i.preventDefault();break}case $e.ENTER:case $e.SPACE:{c&&!y.disabled&&y.checkable!==!1&&!y.disableCheckbox?Le({},y,!te.value.has(M.value)):!c&&g&&!y.disabled&&y.selectable!==!1&&Ae({},y);break}}}d&&d(i)};return a({onNodeExpand:Ce,scrollTo:de,onKeydown:ee,selectedKeys:b(()=>C.value),checkedKeys:b(()=>k.value),halfCheckedKeys:b(()=>N.value),loadedKeys:b(()=>K.value),loadingKeys:b(()=>V.value),expandedKeys:b(()=>L.value)}),bn(()=>{window.removeEventListener("dragend",Te),f.value=!0}),Un({expandedKeys:L,selectedKeys:C,loadedKeys:K,loadingKeys:V,checkedKeys:k,halfCheckedKeys:N,expandedKeysSet:_,selectedKeysSet:Q,loadedKeysSet:R,loadingKeysSet:oe,checkedKeysSet:te,halfCheckedKeysSet:me,flattenNodes:P}),()=>{const{draggingNodeKey:i,dropLevelOffset:d,dropContainerKey:c,dropTargetKey:g,dropPosition:D,dragOverNodeKey:m}=h,{prefixCls:y,showLine:O,focusable:F,tabindex:$=0,selectable:T,showIcon:A,icon:ae=t.icon,switcherIcon:ge,draggable:se,checkable:le,checkStrictly:xe,disabled:Pe,motion:tt,loadData:Jt,filterTreeNode:Qt,height:Zt,itemHeight:en,virtual:tn,dropIndicatorRender:nn,onContextmenu:on,onScroll:an,direction:ln,rootClassName:dn,rootStyle:sn}=e,{class:rn,style:cn}=n,un=Ut(x(x({},e),n),{aria:!0,data:!0});let Ie;return se?typeof se=="object"?Ie=se:typeof se=="function"?Ie={nodeDraggable:se}:Ie={}:Ie=!1,w(Hn,{value:{prefixCls:y,selectable:T,showIcon:A,icon:ae,switcherIcon:ge,draggable:Ie,draggingNodeKey:i,checkable:le,customCheckable:t.checkable,checkStrictly:xe,disabled:Pe,keyEntities:S.value,dropLevelOffset:d,dropContainerKey:c,dropTargetKey:g,dropPosition:D,dragOverNodeKey:m,dragging:i!==null,indent:p.value,direction:ln,dropIndicatorRender:nn,loadData:Jt,filterTreeNode:Qt,onNodeClick:qe,onNodeDoubleClick:Ye,onNodeExpand:Ce,onNodeSelect:Ae,onNodeCheck:Le,onNodeLoad:Fe,onNodeMouseEnter:Je,onNodeMouseLeave:Me,onNodeContextMenu:Qe,onNodeDragStart:Ve,onNodeDragEnter:We,onNodeDragOver:ze,onNodeDragLeave:Ge,onNodeDragEnd:De,onNodeDrop:Xe,slots:t}},{default:()=>[w("div",{role:"tree",class:ue(y,rn,dn,{[`${y}-show-line`]:O,[`${y}-focused`]:U.value,[`${y}-active-focused`]:M.value!==null}),style:sn},[w(Qn,q({ref:Y,prefixCls:y,style:cn,disabled:Pe,selectable:T,checkable:!!le,motion:tt,height:Zt,itemHeight:en,virtual:tn,focusable:F,focused:U.value,tabindex:$,activeItem:I.value,onFocus:Ze,onBlur:Be,onKeydown:ee,onActiveChange:r,onListChangeStart:et,onListChangeEnd:l,onContextmenu:on,onScroll:an},un),null)])]})}}});function no(e,o,n,t,a){const{isLeaf:f,expanded:s,loading:p}=n;let C=o;if(p)return w(Kn,{class:`${e}-switcher-loading-icon`},null);let k;a&&typeof a=="object"&&(k=a.showLeafIcon);let N=null;const K=`${e}-switcher-icon`;return f?a?k&&t?t(n):(typeof a=="object"&&!k?N=w("span",{class:`${e}-switcher-leaf-line`},null):N=w(Lt,{class:`${e}-switcher-line-icon`},null),N):null:(N=w(mn,{class:K},null),a&&(N=s?w(xn,{class:`${e}-switcher-line-icon`},null):w(kn,{class:`${e}-switcher-line-icon`},null)),typeof o=="function"?C=o(x(x({},n),{defaultIcon:N,switcherCls:K})):Sn(C)&&(C=Cn(C,{class:K})),C||N)}const Ot=4;function oo(e){const{dropPosition:o,dropLevelOffset:n,prefixCls:t,indent:a,direction:f="ltr"}=e,s=f==="ltr"?"left":"right",p=f==="ltr"?"right":"left",C={[s]:`${-n*a+Ot}px`,[p]:0};switch(o){case-1:C.top="-3px";break;case 1:C.bottom="-3px";break;default:C.bottom="-3px",C[s]=`${a+Ot}px`;break}return w("div",{style:C,class:`${t}-drop-indicator`},null)}const ao=new Nn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),lo=(e,o)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${o.motionDurationSlow}`}}}),io=(e,o)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:o.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${o.lineWidthBold}px solid ${o.colorPrimary}`,borderRadius:"50%",content:'""'}}}),so=(e,o)=>{const{treeCls:n,treeNodeCls:t,treeNodePadding:a,treeTitleHeight:f}=o,s=(f-o.fontSizeLG)/2,p=o.paddingXS;return{[n]:x(x({},Dn(o)),{background:o.colorBgContainer,borderRadius:o.borderRadius,transition:`background-color ${o.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:x({},bt(o)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${t}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${o.colorPrimary}`,opacity:0,animationName:ao,animationDuration:o.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${t}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:o.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:x({},bt(o)),[`&:not(${t}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:f,lineHeight:`${f}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${o.motionDurationSlow}`,[`${t}:hover &`]:{opacity:.45}},[`&${t}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:f}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:x(x({},lo(e,o)),{position:"relative",flex:"none",alignSelf:"stretch",width:f,margin:0,lineHeight:`${f}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:o.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:f/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${o.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:f/2*.8,height:f/2,borderBottom:`1px solid ${o.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:p,marginBlockStart:s},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:f,margin:0,padding:`0 ${o.paddingXS/2}px`,color:"inherit",lineHeight:`${f}px`,background:"transparent",borderRadius:o.borderRadius,cursor:"pointer",transition:`all ${o.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:o.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:o.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:f,height:f,lineHeight:`${f}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:x({lineHeight:`${f}px`,userSelect:"none"},io(e,o)),[`${t}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${o.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:f/2,bottom:-a,borderInlineEnd:`1px solid ${o.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${t}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${f/2}px !important`}}}}})}},ro=e=>{const{treeCls:o,treeNodeCls:n,treeNodePadding:t}=e;return{[`${o}${o}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:t,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${o}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${o}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${o}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${o}-switcher`]:{color:e.colorTextLightSolid},[`${o}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},co=(e,o)=>{const n=`.${e}`,t=`${n}-treenode`,a=o.paddingXS/2,f=o.controlHeightSM,s=En(o,{treeCls:n,treeNodeCls:t,treeNodePadding:a,treeTitleHeight:f});return[so(e,s),ro(s)]},uo=wn("Tree",(e,o)=>{let{prefixCls:n}=o;return[{[e.componentCls]:Ln(`${n}-checkbox`,e)},co(n,e),jn(e)]}),Yt=()=>{const e=Xt();return x(x({},e),{showLine:st([Boolean,Object]),multiple:re(),autoExpandParent:re(),checkStrictly:re(),checkable:re(),disabled:re(),defaultExpandAll:re(),defaultExpandParent:re(),defaultExpandedKeys:Ne(),expandedKeys:Ne(),checkedKeys:st([Array,Object]),defaultCheckedKeys:Ne(),selectedKeys:Ne(),defaultSelectedKeys:Ne(),selectable:re(),loadedKeys:Ne(),draggable:re(),showIcon:re(),icon:je(),switcherIcon:Ke.any,prefixCls:String,replaceFields:$n(),blockNode:re(),openAnimation:Ke.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":je(),"onUpdate:checkedKeys":je(),"onUpdate:expandedKeys":je()})},Ue=Ee({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:yt(Yt(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,o){let{attrs:n,expose:t,emit:a,slots:f}=o;Ht(!(e.treeData===void 0&&f.default));const{prefixCls:s,direction:p,virtual:C}=Ft("tree",e),[k,N]=uo(s),K=ve();t({treeRef:K,onNodeExpand:function(){var v;(v=K.value)===null||v===void 0||v.onNodeExpand(...arguments)},scrollTo:v=>{var S;(S=K.value)===null||S===void 0||S.scrollTo(v)},selectedKeys:b(()=>{var v;return(v=K.value)===null||v===void 0?void 0:v.selectedKeys}),checkedKeys:b(()=>{var v;return(v=K.value)===null||v===void 0?void 0:v.checkedKeys}),halfCheckedKeys:b(()=>{var v;return(v=K.value)===null||v===void 0?void 0:v.halfCheckedKeys}),loadedKeys:b(()=>{var v;return(v=K.value)===null||v===void 0?void 0:v.loadedKeys}),loadingKeys:b(()=>{var v;return(v=K.value)===null||v===void 0?void 0:v.loadingKeys}),expandedKeys:b(()=>{var v;return(v=K.value)===null||v===void 0?void 0:v.expandedKeys})}),Oe(()=>{Mn(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const L=(v,S)=>{a("update:checkedKeys",v),a("check",v,S)},X=(v,S)=>{a("update:expandedKeys",v),a("expand",v,S)},h=(v,S)=>{a("update:selectedKeys",v),a("select",v,S)};return()=>{const{showIcon:v,showLine:S,switcherIcon:U=f.switcherIcon,icon:M=f.icon,blockNode:G,checkable:j,selectable:Y,fieldNames:J=e.replaceFields,motion:H=e.openAnimation,itemHeight:u=28,onDoubleclick:E,onDblclick:_}=e,Q=x(x(x({},n),Rt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!S,dropIndicatorRender:oo,fieldNames:J,icon:M,itemHeight:u}),R=f.default?dt(f.default()):void 0;return k(w(to,q(q({},Q),{},{virtual:C.value,motion:H,ref:K,prefixCls:s.value,class:ue({[`${s.value}-icon-hide`]:!v,[`${s.value}-block-node`]:G,[`${s.value}-unselectable`]:!Y,[`${s.value}-rtl`]:p.value==="rtl"},n.class,N.value),direction:p.value,checkable:j,selectable:Y,switcherIcon:oe=>no(s.value,U,oe,f.leafIcon,S),onCheck:L,onExpand:X,onSelect:h,onDblclick:_||E,children:R}),x(x({},f),{checkable:()=>w("span",{class:`${s.value}-checkbox-inner`},null)})))}}});var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function gt(e,o,n){function t(a){const f=a[o.key],s=a[o.children];n(f,a)!==!1&&gt(s||[],o,n)}e.forEach(t)}function vo(e){let{treeData:o,expandedKeys:n,startKey:t,endKey:a,fieldNames:f={title:"title",key:"key",children:"children"}}=e;const s=[];let p=be.None;if(t&&t===a)return[t];if(!t||!a)return[];function C(k){return k===t||k===a}return gt(o,f,k=>{if(p===be.End)return!1;if(C(k)){if(s.push(k),p===be.None)p=be.Start;else if(p===be.Start)return p=be.End,!1}else p===be.Start&&s.push(k);return n.includes(k)}),s}function at(e,o,n){const t=[...o],a=[];return gt(e,n,(f,s)=>{const p=t.indexOf(f);return p!==-1&&(a.push(s),t.splice(p,1)),!!t.length}),a}var fo=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const yo=()=>x(x({},Yt()),{expandAction:st([Boolean,String])});function ho(e){const{isLeaf:o,expanded:n}=e;return o?w(Lt,null,null):n?w(On,null,null):w(Tn,null,null)}const lt=Ee({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:yt(yo(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,o){let{attrs:n,slots:t,emit:a,expose:f}=o;var s;const p=ve(e.treeData||rt(dt((s=t.default)===null||s===void 0?void 0:s.call(t))));fe(()=>e.treeData,()=>{p.value=e.treeData}),At(()=>{ft(()=>{var u;e.treeData===void 0&&t.default&&(p.value=rt(dt((u=t.default)===null||u===void 0?void 0:u.call(t))))})});const C=ve(),k=ve(),N=b(()=>Bt(e.fieldNames)),K=ve();f({scrollTo:u=>{var E;(E=K.value)===null||E===void 0||E.scrollTo(u)},selectedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.expandedKeys})});const L=()=>{const{keyEntities:u}=jt(p.value,{fieldNames:N.value});let E;return e.defaultExpandAll?E=Object.keys(u):e.defaultExpandParent?E=ct(e.expandedKeys||e.defaultExpandedKeys||[],u):E=e.expandedKeys||e.defaultExpandedKeys,E},X=ve(e.selectedKeys||e.defaultSelectedKeys||[]),h=ve(L());fe(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(X.value=e.selectedKeys)},{immediate:!0}),fe(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(h.value=e.expandedKeys)},{immediate:!0});const S=Rn((u,E)=>{const{isLeaf:_}=E;_||u.shiftKey||u.metaKey||u.ctrlKey||K.value.onNodeExpand(u,E)},200,{leading:!0}),U=(u,E)=>{e.expandedKeys===void 0&&(h.value=u),a("update:expandedKeys",u),a("expand",u,E)},M=(u,E)=>{const{expandAction:_}=e;_==="click"&&S(u,E),a("click",u,E)},G=(u,E)=>{const{expandAction:_}=e;(_==="dblclick"||_==="doubleclick")&&S(u,E),a("doubleclick",u,E),a("dblclick",u,E)},j=(u,E)=>{const{multiple:_}=e,{node:Q,nativeEvent:R}=E,oe=Q[N.value.key],te=x(x({},E),{selected:!0}),me=(R==null?void 0:R.ctrlKey)||(R==null?void 0:R.metaKey),ie=R==null?void 0:R.shiftKey;let P;_&&me?(P=u,C.value=oe,k.value=P,te.selectedNodes=at(p.value,P,N.value)):_&&ie?(P=Array.from(new Set([...k.value||[],...vo({treeData:p.value,expandedKeys:h.value,startKey:oe,endKey:C.value,fieldNames:N.value})])),te.selectedNodes=at(p.value,P,N.value)):(P=[oe],C.value=oe,k.value=P,te.selectedNodes=at(p.value,P,N.value)),a("update:selectedKeys",P),a("select",P,te),e.selectedKeys===void 0&&(X.value=P)},Y=(u,E)=>{a("update:checkedKeys",u),a("check",u,E)},{prefixCls:J,direction:H}=Ft("tree",e);return()=>{const u=ue(`${J.value}-directory`,{[`${J.value}-directory-rtl`]:H.value==="rtl"},n.class),{icon:E=t.icon,blockNode:_=!0}=e,Q=fo(e,["icon","blockNode"]);return w(Ue,q(q(q({},n),{},{icon:E||ho,ref:K,blockNode:_},Q),{},{prefixCls:J.value,class:u,expandedKeys:h.value,selectedKeys:X.value,onSelect:j,onClick:M,onDblclick:G,onExpand:U,onCheck:Y}),t)}}}),it=ut,Eo=x(Ue,{DirectoryTree:lt,TreeNode:it,install:e=>(e.component(Ue.name,Ue),e.component(it.name,it),e.component(lt.name,lt),e)});export{Eo as _};
