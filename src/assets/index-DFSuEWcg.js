import{a7 as S,d as U,r as z,o as D,c as m,e as i,w as n,n as O,f as e,g as y,h as s,F as d,D as B,q as v,p as u,x as c,E as A,ct as E}from"./index-BGwiQ_ZP.js";import{C as Q}from"./index-Dmp49pi4.js";import{C as R}from"./index-DXr50enF.js";import{u as V}from"./useGetDictList-Ce8qcgxG.js";import{C as $}from"./index-O9UFCIBE.js";import{I as L}from"./index-BwLVAfvf.js";import{T as M}from"./index-BZPc_wGj.js";import{A as W}from"./index-COjFYpq0.js";import{B as j}from"./index-_DVN_kvK.js";import{_ as J}from"./index-C3-0t2lO.js";import{_ as G}from"./index-Dc3BwS3p.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./file-B2ejoaTr.js";import"./index-C0T18UR7.js";import"./Dropdown-C4JaQ-9X.js";import"./index-DzzgRnZQ.js";import"./_getTag-BRywsnft.js";import"./zoom-CXqzwkKe.js";import"./vnode-BaoCyZaz.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./move-wLULaQ1Q.js";import"./slide-NWV3xR2G.js";import"./index-Dn-jGRft.js";import"./devWarning-MTSIIkhh.js";import"./omit-HeMvMqzr.js";import"./index-BjablQaC.js";import"./collapseMotion-D2RrGThV.js";import"./KeyCode-CYuXKwrG.js";import"./index-ENtatNUe.js";import"./index-CT-EkvtY.js";import"./Checkbox-BZ1yw4ia.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./compact-item-CDNQQAbH.js";import"./index-BRrv4Ip6.js";import"./index-Bp3RETpT.js";import"./styleChecker-DfAMPleG.js";import"./eagerComputed-DIhAf9GU.js";import"./useState-DblkWJ1i.js";import"./pickAttrs-DQvtcfDv.js";import"./index-CEnhULtM.js";import"./index-Bh7qAkTT.js";import"./index-CKmLu0Sy.js";import"./index-CGXbiuUf.js";import"./createRef-CUnV3TOs.js";import"./isMobile-BbN7I0i_.js";import"./List-163jSJPW.js";import"./useMemo-BMsKZuSN.js";import"./useMergedState-DA2nm7bB.js";import"./useBreakpoint-CpQcD87b.js";import"./responsiveObserve-ChmocN4c.js";import"./index-DQufTizB.js";import"./index-BUzwvh4O.js";import"./debounce-BUZtn0sP.js";import"./hasIn-B69yjgv2.js";import"./index-DkgGzfF8.js";import"./isPlainObject-DJIrIqvg.js";import"./Col-DruUELZH.js";import"./ActionButton-4KVVUbhX.js";const K=g=>S({url:"/api/sysWechatUser/page",method:"post",data:g}),X={class:"sys-wechatuser-container flex flex-col"},Y={key:3,class:"w-full"},Z=U({name:"weChatUser",__name:"index",setup(g){const t=z({queryForm:{nickName:"",mobile:""},tableData:[],tableParams:{page:1,pageSize:50,total:0},loading:!1}),h=[{title:"序号",align:"center",width:60,customRender:({index:l})=>`${l+1}`},{title:"OpenId",dataIndex:"openId",key:"openId",align:"center",width:80,ellipsis:!0},{title:"UnionId",dataIndex:"unionId",key:"unionId",align:"center",width:80,ellipsis:!0},{title:"平台类型",dataIndex:"platformType",key:"platformType",align:"center",width:150,ellipsis:!0},{title:"昵称",dataIndex:"nickName",key:"nickName",align:"center",width:80,ellipsis:!0},{title:"头像",dataIndex:"avatar",key:"avatar",align:"center",width:100},{title:"手机号码",dataIndex:"mobile",key:"mobile",align:"center",width:130},{title:"性别",dataIndex:"sex",key:"sex",align:"center",width:80},{title:"城市",dataIndex:"city",key:"city",align:"center",width:120},{title:"省",dataIndex:"province",key:"province",align:"center",width:120},{title:"国家",dataIndex:"country",key:"country",align:"center",width:120},{title:"操作",align:"center",key:"operation",dataIndex:"operation",width:250,fixed:"right"}],w=l=>"http://192.168.118.46:75/"+l,f=async()=>{t.loading=!0;let l=Object.assign(t.queryForm,t.tableParams);const a=await K(l);t.tableData=a.data.result.items||[],t.tableParams.total=a.data.result.total||0,t.loading=!1},I=()=>{},T=async l=>{},C=async l=>{t.tableParams.page=l.current,t.tableParams.pageSize=l.pageSize,await f()};return D(async()=>{await f()}),(l,a)=>{const k=L,b=J,x=$,_=M,P=O("UserOutlined"),q=W,F=j,N=G;return e(),m("div",X,[i(x,{class:"mb-2.5"},{default:n(()=>[i(Q,{model:t.queryForm,name:"menu-form",onQuery:f,onReset:I,"btn-show":{add:!1}},{default:n(()=>[i(b,{label:"微信昵称",name:"nickName",class:"w-1/2.5"},{default:n(()=>[i(k,{value:t.queryForm.nickName,"onUpdate:value":a[0]||(a[0]=p=>t.queryForm.nickName=p)},null,8,["value"])]),_:1}),i(b,{label:"手机号码",name:"mobile",class:"w-1/2.5"},{default:n(()=>[i(k,{value:t.queryForm.mobile,"onUpdate:value":a[1]||(a[1]=p=>t.queryForm.mobile=p)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),i(x,{class:"flex-1 card-table"},{default:n(()=>[i(R,{columns:h,data:t.tableData,pagination:{total:t.tableParams.total,current:t.tableParams.page,pageSize:t.tableParams.pageSize,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["2","5","10","20"],showTotal:p=>`总数: ${p}`},loading:t.loading,onChange:C},{bodyCell:n(({column:p,text:tt,record:o})=>[p.dataIndex==="platformType"?(e(),y(_,{key:0,color:"cyan"},{default:n(()=>[(e(!0),m(d,null,B(v(V)("PlatformTypeEnum"),r=>(e(),m(d,{key:r.value},[o.platformType==1&&o.platformType==r.value?(e(),m(d,{key:0},[u(c(r.label),1)],64)):s("",!0),o.platformType==2&&o.platformType==r.value?(e(),m(d,{key:1},[u(c(r.label),1)],64)):s("",!0),o.platformType==3&&o.platformType==r.value?(e(),m(d,{key:2},[u(c(r.label),1)],64)):s("",!0),o.platformType==4&&o.platformType==r.value?(e(),m(d,{key:3},[u(c(r.label),1)],64)):s("",!0),o.platformType==5&&o.platformType==r.value?(e(),m(d,{key:4},[u(c(r.label),1)],64)):s("",!0)],64))),128))]),_:2},1024)):s("",!0),p.dataIndex==="avatar"?(e(),y(q,{key:1,src:w(o.avatar),shape:"square",size:"small"},{icon:n(()=>[i(P)]),_:2},1032,["src"])):s("",!0),p.dataIndex==="性别"?(e(),m(d,{key:2},[o.sex===0?(e(),y(_,{key:0,color:"green"},{default:n(()=>a[2]||(a[2]=[u("男")])),_:1})):(e(),y(_,{key:1,color:"cyan"},{default:n(()=>a[3]||(a[3]=[u("女")])),_:1}))],64)):s("",!0),p.dataIndex==="operation"?(e(),m("div",Y,[i(N,{title:"确定删除?",onConfirm:r=>T(o)},{default:n(()=>[i(F,{icon:A(v(E)),danger:""},{default:n(()=>a[4]||(a[4]=[u("删除")])),_:1},8,["icon"])]),_:2},1032,["onConfirm"])])):s("",!0)]),_:1},8,["data","pagination","loading"])]),_:1})])}}}),ie=H(Z,[["__scopeId","data-v-ac5c0968"]]);export{ie as default};
