import R from"./iconSelect-Cdn1HbRk.js";import{l as y}from"./lodash-buJ1Dk2D.js";import{d as E,i as U,r as P,c as f,h as v,e,w as o,cE as q,ae as B,f as i,F as x,D as H,q as K,g as Q,p as d,x as G,cF as X,cG as Y,I as $}from"./index-BGwiQ_ZP.js";import{u as j}from"./useGetDictList-Ce8qcgxG.js";import{M as z}from"./index-Dpm5AXGB.js";import{F as J,_ as W}from"./index-C3-0t2lO.js";import{_ as Z}from"./index-D7YtsyTb.js";import{_ as c,R as h}from"./index-DQufTizB.js";import{I as ee,_ as le}from"./index-BwLVAfvf.js";import{_ as oe,a as ae}from"./index-4yq-Tlp0.js";import{_ as te}from"./index-CrTOvIq5.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D6J3dazT.js";import"./loading2-0Kz4h52X.js";import"./index-ENtatNUe.js";import"./index-DzzgRnZQ.js";import"./_getTag-BRywsnft.js";import"./zoom-CXqzwkKe.js";import"./vnode-BaoCyZaz.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./omit-HeMvMqzr.js";import"./KeyCode-CYuXKwrG.js";import"./pickAttrs-DQvtcfDv.js";import"./index-_DVN_kvK.js";import"./useState-DblkWJ1i.js";import"./devWarning-MTSIIkhh.js";import"./compact-item-CDNQQAbH.js";import"./styleChecker-DfAMPleG.js";import"./ActionButton-4KVVUbhX.js";import"./hasIn-B69yjgv2.js";import"./isPlainObject-DJIrIqvg.js";import"./Col-DruUELZH.js";import"./responsiveObserve-ChmocN4c.js";import"./collapseMotion-D2RrGThV.js";import"./debounce-BUZtn0sP.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./index-CGXbiuUf.js";import"./slide-NWV3xR2G.js";import"./index-Dn-jGRft.js";import"./createRef-CUnV3TOs.js";import"./isMobile-BbN7I0i_.js";import"./move-wLULaQ1Q.js";import"./useMergedState-DA2nm7bB.js";import"./index-BRrv4Ip6.js";import"./Checkbox-BZ1yw4ia.js";const ue=E({__name:"editOrAddDialog",props:{menuList:{}},emits:["handleQuery"],setup(k,{expose:A,emit:w}){const g=k,M=w,_=U(),N=U(),a=P({open:!1,flag:"add",ruleForm:{}}),C=async()=>{_.value.validate().then(async()=>{let m=y.cloneDeep(a.ruleForm);Array.isArray(m.pid)&&(m.pid=m.pid[m.pid.length-1]),a.flag==="add"&&(console.log(m),await X(m)),a.flag=="edit"&&await Y(m),$("操作成功","success"),setTimeout(()=>{F(),M("handleQuery")},100)})},F=()=>{a.open=!1,a.ruleForm={},a.flag="add"},D=(m,l)=>{a.open=!0,a.ruleForm=y.cloneDeep(m),m.pid>0&&(a.ruleForm.pid=q(g.menuList,m.pid)),a.flag=l,B(()=>{_.value.clearValidate()})},L=m=>{console.log("Success:",m)};return A({handleOpen:D}),(m,l)=>{const I=Z,r=W,u=ae,n=h,p=c,s=ee,b=te,S=le,V=oe,O=J,T=z;return a.open?(i(),f("div",{key:0,class:"edit-or-add-model",ref_key:"editAddModal",ref:N},[e(T,{width:"700px",wrapClassName:"custom-modal",bodyStyle:{height:"400px",overflowY:"overlay",overflowX:"hidden",paddingRight:"6px"},open:a.open,"onUpdate:open":l[18]||(l[18]=t=>a.open=t),title:a.flag==="add"?"添加":"编辑",cancelText:"取消",okText:"确定",onOk:C,onCancel:F,getContainer:()=>m.$refs.editAddModal},{default:o(()=>[e(O,{ref_key:"formRef",ref:_,model:a.ruleForm,name:"menu-form",autocomplete:"off",onFinish:L,labelAlign:"right","label-col":{span:6}},{default:o(()=>[e(V,{gutter:35},{default:o(()=>[e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:o(()=>[e(r,{label:"上级菜单",name:"pid","label-col":{span:3},"wrapper-col":{span:21}},{default:o(()=>[e(I,{value:a.ruleForm.pid,"onUpdate:value":l[0]||(l[0]=t=>a.ruleForm.pid=t),options:g.menuList,placeholder:"","field-names":{label:"title",value:"id",children:"children"},changeOnSelect:!0},null,8,["value","options"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:o(()=>[e(r,{label:"菜单类型",name:"type","label-col":{span:3},"wrapper-col":{span:21},rules:[{required:!0,message:"菜单类型不为空!"}]},{default:o(()=>[e(p,{value:a.ruleForm.type,"onUpdate:value":l[1]||(l[1]=t=>a.ruleForm.type=t)},{default:o(()=>[(i(!0),f(x,null,H(K(j)("MenuTypeEnum"),t=>(i(),Q(n,{key:t.value,value:+t.value},{default:o(()=>[d(G(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"菜单名称",name:"title","label-col":{span:6},"wrapper-col":{span:18},rules:[{required:!0,message:"菜单名称不为空!"}]},{default:o(()=>[e(s,{value:a.ruleForm.title,"onUpdate:value":l[2]||(l[2]=t=>a.ruleForm.title=t)},null,8,["value"])]),_:1})]),_:1}),a.ruleForm.type===1||a.ruleForm.type===2?(i(),f(x,{key:0},[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"路由名称",name:"name"},{default:o(()=>[e(s,{value:a.ruleForm.name,"onUpdate:value":l[3]||(l[3]=t=>a.ruleForm.name=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"路由路径",name:"path"},{default:o(()=>[e(s,{value:a.ruleForm.path,"onUpdate:value":l[4]||(l[4]=t=>a.ruleForm.path=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"组件路径",name:"component"},{default:o(()=>[e(s,{value:a.ruleForm.component,"onUpdate:value":l[5]||(l[5]=t=>a.ruleForm.component=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"菜单图标",name:"icon"},{default:o(()=>[e(R,{modelValue:a.ruleForm.icon,"onUpdate:modelValue":l[6]||(l[6]=t=>a.ruleForm.icon=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"重定向",name:"redirect"},{default:o(()=>[e(s,{value:a.ruleForm.redirect,"onUpdate:value":l[7]||(l[7]=t=>a.ruleForm.redirect=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"链接地址",name:"outLink"},{default:o(()=>[e(s,{value:a.ruleForm.outLink,"onUpdate:value":l[8]||(l[8]=t=>a.ruleForm.outLink=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"菜单排序",name:"orderNo"},{default:o(()=>[e(b,{value:a.ruleForm.orderNo,"onUpdate:value":l[9]||(l[9]=t=>a.ruleForm.orderNo=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"是否隐藏",name:"isHide"},{default:o(()=>[e(p,{value:a.ruleForm.isHide,"onUpdate:value":l[10]||(l[10]=t=>a.ruleForm.isHide=t)},{default:o(()=>[e(n,{value:!0},{default:o(()=>l[19]||(l[19]=[d("隐藏")])),_:1}),e(n,{value:!1},{default:o(()=>l[20]||(l[20]=[d("不隐藏")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"是否缓存",name:"isKeepAlive"},{default:o(()=>[e(p,{value:a.ruleForm.isKeepAlive,"onUpdate:value":l[11]||(l[11]=t=>a.ruleForm.isKeepAlive=t)},{default:o(()=>[e(n,{value:!0},{default:o(()=>l[21]||(l[21]=[d("缓存")])),_:1}),e(n,{value:!1},{default:o(()=>l[22]||(l[22]=[d("不缓存")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"是否固定",name:"isAffix"},{default:o(()=>[e(p,{value:a.ruleForm.isAffix,"onUpdate:value":l[12]||(l[12]=t=>a.ruleForm.isAffix=t)},{default:o(()=>[e(n,{value:!0},{default:o(()=>l[23]||(l[23]=[d("固定")])),_:1}),e(n,{value:!1},{default:o(()=>l[24]||(l[24]=[d("不固定")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"是否内嵌",name:"isIframe"},{default:o(()=>[e(p,{value:a.ruleForm.isIframe,"onUpdate:value":l[13]||(l[13]=t=>a.ruleForm.isIframe=t)},{default:o(()=>[e(n,{value:!0},{default:o(()=>l[25]||(l[25]=[d("内嵌")])),_:1}),e(n,{value:!1},{default:o(()=>l[26]||(l[26]=[d("不内嵌")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1})],64)):v("",!0),a.ruleForm.type===3?(i(),f(x,{key:1},[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"权限标识",name:"permission"},{default:o(()=>[e(s,{value:a.ruleForm.permission,"onUpdate:value":l[14]||(l[14]=t=>a.ruleForm.permission=t)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"菜单排序",name:"orderNo"},{default:o(()=>[e(b,{value:a.ruleForm.orderNo,"onUpdate:value":l[15]||(l[15]=t=>a.ruleForm.orderNo=t)},null,8,["value"])]),_:1})]),_:1})],64)):v("",!0),e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[e(r,{label:"是否启用",name:"status"},{default:o(()=>[e(p,{value:a.ruleForm.status,"onUpdate:value":l[16]||(l[16]=t=>a.ruleForm.status=t)},{default:o(()=>[e(n,{value:1},{default:o(()=>l[27]||(l[27]=[d("启用")])),_:1}),e(n,{value:2},{default:o(()=>l[28]||(l[28]=[d("不启用")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:o(()=>[e(r,{label:"备注信息",name:"remark","label-col":{span:3},"wrapper-col":{span:21}},{default:o(()=>[e(S,{rows:2,value:a.ruleForm.remark,"onUpdate:value":l[17]||(l[17]=t=>a.ruleForm.remark=t)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title","getContainer"])],512)):v("",!0)}}}),he=re(ue,[["__scopeId","data-v-a2a61f62"]]);export{he as default};
