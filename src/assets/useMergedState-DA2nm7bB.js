import{i as r,q as v,ac as o,a1 as d,a6 as g}from"./index-BGwiQ_ZP.js";function m(l,n){const{defaultValue:u,value:a=r()}=n||{};let t=typeof l=="function"?l():l;a.value!==void 0&&(t=v(a)),u!==void 0&&(t=typeof u=="function"?u():u);const i=r(t),f=r(t);o(()=>{let e=a.value!==void 0?a.value:i.value;n.postState&&(e=n.postState(e)),f.value=e});function s(e){const c=f.value;i.value=e,g(f.value)!==e&&n.onChange&&n.onChange(e,c)}return d(a,()=>{i.value=a.value}),[f,s]}export{m as u};
