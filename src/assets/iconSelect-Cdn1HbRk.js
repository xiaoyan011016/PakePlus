import{I as x}from"./index-D6J3dazT.js";import{d as S,i as E,r as b,o as w,c,e as r,w as u,cH as f,n as B,f as t,a as O,g,F as k,c7 as H,D as L}from"./index-BGwiQ_ZP.js";import{L as R}from"./loading2-0Kz4h52X.js";import{l as F}from"./lodash-buJ1Dk2D.js";import{I as G}from"./index-BwLVAfvf.js";import{_ as N}from"./index-ENtatNUe.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CalSw2eR.js";import"./css-DXc8wDa4.js";import"./compact-item-CDNQQAbH.js";import"./_getTag-BRywsnft.js";import"./omit-HeMvMqzr.js";import"./vnode-BaoCyZaz.js";import"./index-_DVN_kvK.js";import"./useState-DblkWJ1i.js";import"./devWarning-MTSIIkhh.js";import"./isPlainObject-DJIrIqvg.js";import"./index-Dn-jGRft.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./index-DzzgRnZQ.js";import"./zoom-CXqzwkKe.js";const T={class:"list"},$=["onClick"],j=S({__name:"iconSelect",props:{modelValue:{}},emits:["update:modelValue"],setup(h,{emit:y}){const l=h,d=y,v=E(),o=b({url:"https://api.iconify.design/collections",url2:"https://api.iconify.design/search",icons:[],loading:!1}),V=e=>{d("update:modelValue",e.target.value),C()},p=async()=>{if(o.loading=!0,l.modelValue){const e=await f({url:o.url2,method:"GET",params:{query:l.modelValue}});o.icons=e.data.icons}else{const e=await f({url:o.url,method:"GET",params:{prefixes:l.modelValue}}),n=Object.keys(e.data);for(let s=0;s<n.length;s++){const i=n[s];e.data[i].samples.forEach(m=>{o.icons.push(i+":"+m)})}}o.loading=!1},C=F.debounce(p,500),I=e=>{d("update:modelValue",e)};return w(()=>{p()}),(e,n)=>{const s=H,i=B("HomeOutlined"),_=G,m=N;return t(),c("div",{class:"icon-select",ref_key:"iconSelectRef",ref:v},[r(m,{placement:"bottom",title:"搜素字体图标",trigger:"click",getPopupContainer:()=>e.$refs.iconSelectRef,onOpenChange:n[0]||(n[0]=a=>{a?p():o.icons=[]})},{content:u(()=>[O("div",T,[o.loading?(t(),g(R,{key:0})):(t(),c(k,{key:1},[o.icons.length==0?(t(),g(s,{key:0})):(t(!0),c(k,{key:1},L(o.icons,a=>(t(),c("div",{class:"item",key:a,onClick:q=>I(a)},[r(x,{icon:a},null,8,["icon"])],8,$))),128))],64))])]),default:u(()=>[r(_,{value:e.modelValue,onInput:V},{prefix:u(()=>[r(i)]),_:1},8,["value"])]),_:1},8,["getPopupContainer"])],512)}}}),le=P(j,[["__scopeId","data-v-10425ee2"]]);export{le as default};
