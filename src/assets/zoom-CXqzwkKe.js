import{j as U,ac as R,bq as y,br as x,bs as E,d as F,aR as W,aF as _,a8 as d,b7 as H,o as T,a1 as j,ae as k,ad as q,e as A,bt as V,an as p,bu as s}from"./index-BGwiQ_ZP.js";import{w as L}from"./_getTag-BRywsnft.js";let Z=!1;try{const e=Object.defineProperty({},"passive",{get(){Z=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}function ve(e,n,o,t){if(e&&e.addEventListener){let i=t;i===void 0&&Z&&(n==="touchstart"||n==="touchmove"||n==="wheel")&&(i={passive:!1}),e.addEventListener(n,o,i)}return{remove:()=>{e&&e.removeEventListener&&e.removeEventListener(n,o)}}}let O;function M(e){if(typeof document>"u")return 0;if(O===void 0){const n=document.createElement("div");n.style.width="100%",n.style.height="200px";const o=document.createElement("div"),t=o.style;t.position="absolute",t.top="0",t.left="0",t.pointerEvents="none",t.visibility="hidden",t.width="200px",t.height="150px",t.overflow="hidden",o.appendChild(n),document.body.appendChild(o);const i=n.offsetWidth;o.style.overflow="scroll";let a=n.offsetWidth;i===a&&(a=o.clientWidth),document.body.removeChild(o),O=i-a}return O}function I(e){const n=e.match(/^(.*)px$/),o=Number(n==null?void 0:n[1]);return Number.isNaN(o)?M():o}function ye(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};const{width:n,height:o}=getComputedStyle(e,"::-webkit-scrollbar");return{width:I(n),height:I(o)}}const G=`vc-util-locker-${Date.now()}`;let K=0;function Q(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function J(e){const n=U(()=>!!e&&!!e.value);K+=1;const o=`${G}_${K}`;R(t=>{if(y()){if(n.value){const i=M(),a=Q();x(`
html body {
  overflow-y: hidden;
  ${a?`width: calc(100% - ${i}px);`:""}
}`,o)}else E(o);t(()=>{E(o)})}},{flush:"post"})}let m=0;const v=y(),P=e=>{if(!v)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(typeof e=="object"&&e instanceof window.HTMLElement)return e}return document.body},ge=F({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:_.any,visible:{type:Boolean,default:void 0},autoLock:W(),didUpdate:Function},setup(e,n){let{slots:o}=n;const t=d(),i=d(),a=d(),$=d(1),g=y()&&document.createElement("div"),z=()=>{var r,l;t.value===g&&((l=(r=t.value)===null||r===void 0?void 0:r.parentNode)===null||l===void 0||l.removeChild(t.value)),t.value=null};let u=null;const h=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||t.value&&!t.value.parentNode?(u=P(e.getContainer),u?(u.appendChild(t.value),!0):!1):!0},S=()=>v?(t.value||(t.value=g,h(!0)),C(),t.value):null,C=()=>{const{wrapperClassName:r}=e;t.value&&r&&r!==t.value.className&&(t.value.className=r)};return H(()=>{C(),h()}),J(U(()=>e.autoLock&&e.visible&&y()&&(t.value===document.body||t.value===g))),T(()=>{let r=!1;j([()=>e.visible,()=>e.getContainer],(l,f)=>{let[w,c]=l,[B,b]=f;v&&(u=P(e.getContainer),u===document.body&&(w&&!B?m+=1:r&&(m-=1))),r&&(typeof c=="function"&&typeof b=="function"?c.toString()!==b.toString():c!==b)&&z(),r=!0},{immediate:!0,flush:"post"}),k(()=>{h()||(a.value=L(()=>{$.value+=1}))})}),q(()=>{const{visible:r}=e;v&&u===document.body&&(m=r&&m?m-1:m),z(),L.cancel(a.value)}),()=>{const{forceRender:r,visible:l}=e;let f=null;const w={getOpenCount:()=>m,getContainer:S};return $.value&&(r||l||i.value)&&(f=A(V,{getContainer:S,ref:i,didUpdate:e.didUpdate},{default:()=>{var c;return(c=o.default)===null||c===void 0?void 0:c.call(o,w)}})),f}}}),X=e=>({animationDuration:e,animationFillMode:"both"}),Y=e=>({animationDuration:e,animationFillMode:"both"}),ee=function(e,n,o,t){const a=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${a}${e}-enter,
      ${a}${e}-appear
    `]:p(p({},X(t)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:p(p({},Y(t)),{animationPlayState:"paused"}),[`
      ${a}${e}-enter${e}-enter-active,
      ${a}${e}-appear${e}-appear-active
    `]:{animationName:n,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:o,animationPlayState:"running",pointerEvents:"none"}}},te=new s("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ne=new s("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),D=new s("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),N=new s("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),oe=new s("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),ae=new s("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),re=new s("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),ie=new s("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),se=new s("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),le=new s("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),ce=new s("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),me=new s("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),ue={zoom:{inKeyframes:te,outKeyframes:ne},"zoom-big":{inKeyframes:D,outKeyframes:N},"zoom-big-fast":{inKeyframes:D,outKeyframes:N},"zoom-left":{inKeyframes:re,outKeyframes:ie},"zoom-right":{inKeyframes:se,outKeyframes:le},"zoom-up":{inKeyframes:oe,outKeyframes:ae},"zoom-down":{inKeyframes:ce,outKeyframes:me}},he=(e,n)=>{const{antCls:o}=e,t=`${o}-${n}`,{inKeyframes:i,outKeyframes:a}=ue[n];return[ee(t,i,a,n==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${t}-enter,
        ${t}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${t}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};export{ge as P,ve as a,ee as b,ye as c,M as g,he as i,Z as s,te as z};
